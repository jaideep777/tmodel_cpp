<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Plant-FATE: pfate::Patch Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-style-flat.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Plant-FATE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepfate.html">pfate</a></li><li class="navelem"><a class="el" href="classpfate_1_1Patch.html">Patch</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classpfate_1_1Patch-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pfate::Patch Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for pfate::Patch:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch__coll__graph.svg" width="1771" height="999"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8b436c6aac2f58c3dd3cba0c979f61d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a8b436c6aac2f58c3dd3cba0c979f61d9">Patch</a> (std::string params_file)</td></tr>
<tr class="separator:a8b436c6aac2f58c3dd3cba0c979f61d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87c46fbd0576bb7031cb3ca8dbe7126"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ab87c46fbd0576bb7031cb3ca8dbe7126">set_i_metFile</a> (std::string file)</td></tr>
<tr class="separator:ab87c46fbd0576bb7031cb3ca8dbe7126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bb4cfd0e87dd7017811a6ff1737722"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a65bb4cfd0e87dd7017811a6ff1737722">set_a_metFile</a> (std::string file)</td></tr>
<tr class="separator:a65bb4cfd0e87dd7017811a6ff1737722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3329fc40060265528e302fd75bd3b20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ae3329fc40060265528e302fd75bd3b20">set_co2File</a> (std::string co2file)</td></tr>
<tr class="separator:ae3329fc40060265528e302fd75bd3b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2e4b86b03a6a6834a363bf19c1d9587"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ad2e4b86b03a6a6834a363bf19c1d9587">init</a> (double tstart, double tend)</td></tr>
<tr class="separator:ad2e4b86b03a6a6834a363bf19c1d9587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6751c9c0efe222201a24fc2d400788"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a7f6751c9c0efe222201a24fc2d400788">simulate_to</a> (double t)</td></tr>
<tr class="memdesc:a7f6751c9c0efe222201a24fc2d400788"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function simulates patch to time t.  <a href="classpfate_1_1Patch.html#a7f6751c9c0efe222201a24fc2d400788">More...</a><br /></td></tr>
<tr class="separator:a7f6751c9c0efe222201a24fc2d400788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ef446560886e3bc56e08e196ee17827"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a4ef446560886e3bc56e08e196ee17827">update_climate</a> (double julian_time, <a class="el" href="classpfate_1_1env_1_1ClimateStream.html">env::ClimateStream</a> &amp;c_stream)</td></tr>
<tr class="separator:a4ef446560886e3bc56e08e196ee17827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7659e2f363200738e1699c030ac2c23b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a7659e2f363200738e1699c030ac2c23b">update_climate</a> (double co2, double tc, double vpd, double ppfd, double swp)</td></tr>
<tr class="separator:a7659e2f363200738e1699c030ac2c23b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e132a78319775d5b83d367f40b09c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a95e132a78319775d5b83d367f40b09c2">update_climate_acclim</a> (double t_julian, double co2, double tc, double vpd, double ppfd, double swp)</td></tr>
<tr class="separator:a95e132a78319775d5b83d367f40b09c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae003bee4119e3a1122c9e1f8ebc9de28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ae003bee4119e3a1122c9e1f8ebc9de28">simulate</a> ()</td></tr>
<tr class="memdesc:ae003bee4119e3a1122c9e1f8ebc9de28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulate patch dynamics TODO: Evntually, this function should be moved to a higher controller, which can simulate multiple patches and manage data IO In Plant-FATE, we should always simulate step-by-step because we are explicitly managing seed rain feedback.  <a href="classpfate_1_1Patch.html#ae003bee4119e3a1122c9e1f8ebc9de28">More...</a><br /></td></tr>
<tr class="separator:ae003bee4119e3a1122c9e1f8ebc9de28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab76971ff4ca9bf75128d6bbe186d9456"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ab76971ff4ca9bf75128d6bbe186d9456">close</a> ()</td></tr>
<tr class="separator:ab76971ff4ca9bf75128d6bbe186d9456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae945da577720468b8fbf6afe71536a3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ae945da577720468b8fbf6afe71536a3b">save</a> (std::ostream &amp;fout)</td></tr>
<tr class="separator:ae945da577720468b8fbf6afe71536a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28768ff1b01cb532dfc9bca2d8ce2cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ab28768ff1b01cb532dfc9bca2d8ce2cb">restore</a> (std::istream &amp;fin)</td></tr>
<tr class="separator:ab28768ff1b01cb532dfc9bca2d8ce2cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a84fd2d29e9e81ff264d783499825863e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpfate_1_1PlantFateConfig.html">PlantFateConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a></td></tr>
<tr class="separator:a84fd2d29e9e81ff264d783499825863e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6da7a3a21e9237ca8cd1e4a631b06b3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ad6da7a3a21e9237ca8cd1e4a631b06b3">t_next_disturbance</a></td></tr>
<tr class="separator:ad6da7a3a21e9237ca8cd1e4a631b06b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6b7ac3f4a4017b2f534279fc7afec3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a6b6b7ac3f4a4017b2f534279fc7afec3">t_next_invasion</a></td></tr>
<tr class="separator:a6b6b7ac3f4a4017b2f534279fc7afec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e9956fd78450b7b554787314d0f6d99"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a0e9956fd78450b7b554787314d0f6d99">t_next_savestate</a></td></tr>
<tr class="separator:a0e9956fd78450b7b554787314d0f6d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871b9cac7034dc81fb04449971952570"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a871b9cac7034dc81fb04449971952570">t_next_writestate</a></td></tr>
<tr class="separator:a871b9cac7034dc81fb04449971952570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af40afab09d5713fb4d351b596cd65f70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplant_1_1PlantParameters.html">plant::PlantParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#af40afab09d5713fb4d351b596cd65f70">par0</a></td></tr>
<tr class="separator:af40afab09d5713fb4d351b596cd65f70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c96a4ee454126766b0f135228643df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplant_1_1PlantTraits.html">plant::PlantTraits</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ab4c96a4ee454126766b0f135228643df">traits0</a></td></tr>
<tr class="separator:ab4c96a4ee454126766b0f135228643df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47e6e817aab6c4aa75992eb71fb09cb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpfate_1_1env_1_1ClimateStream.html">env::ClimateStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a></td></tr>
<tr class="separator:a47e6e817aab6c4aa75992eb71fb09cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3868231658ef110c9af7af35ee9be69b"><td class="memItemLeft" align="right" valign="top">flare::TimeStepper&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a3868231658ef110c9af7af35ee9be69b">ts</a></td></tr>
<tr class="separator:a3868231658ef110c9af7af35ee9be69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f6f6d4b7e39b3bb8875f932558c715"><td class="memItemLeft" align="right" valign="top">Solver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a></td></tr>
<tr class="separator:a38f6f6d4b7e39b3bb8875f932558c715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59eda2b21a7d954f754ecdf07a36e198"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpfate_1_1PSPM__Environment.html">PSPM_Environment</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a></td></tr>
<tr class="separator:a59eda2b21a7d954f754ecdf07a36e198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212f51188727deb3c00b1a9ed9d6f313"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpfate_1_1CommunityProperties.html">CommunityProperties</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">props</a></td></tr>
<tr class="separator:a212f51188727deb3c00b1a9ed9d6f313"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a9e206a8b8ffc34c68e42a30eaf096461"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a9e206a8b8ffc34c68e42a30eaf096461">runif</a> (double rmin=0, double rmax=1)</td></tr>
<tr class="separator:a9e206a8b8ffc34c68e42a30eaf096461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab58a899c33839507b147bc7a59a2d5c2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classplant_1_1PlantTraits.html">plant::PlantTraits</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ab58a899c33839507b147bc7a59a2d5c2">readTraitsFromFile</a> (std::string fname)</td></tr>
<tr class="separator:ab58a899c33839507b147bc7a59a2d5c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga493d1e9d19f70f7e122897c6aac0abf1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trait__evolution.html#ga493d1e9d19f70f7e122897c6aac0abf1">calc_seedrain_r0</a> (double t)</td></tr>
<tr class="memdesc:ga493d1e9d19f70f7e122897c6aac0abf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate growth rates of all species and update seed input.  <a href="group__trait__evolution.html#ga493d1e9d19f70f7e122897c6aac0abf1">More...</a><br /></td></tr>
<tr class="separator:ga493d1e9d19f70f7e122897c6aac0abf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae819ff5787441c244a4b0414b3153761"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ae819ff5787441c244a4b0414b3153761">removeSpeciesAndProbes</a> (<a class="el" href="classpfate_1_1AdaptiveSpecies.html">AdaptiveSpecies</a>&lt; <a class="el" href="classpfate_1_1PSPM__Plant.html">PSPM_Plant</a> &gt; *spp)</td></tr>
<tr class="separator:ae819ff5787441c244a4b0414b3153761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac014924ea9c6590fa2031788057cf271"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ac014924ea9c6590fa2031788057cf271">addSpeciesAndProbes</a> (double t, const <a class="el" href="classplant_1_1PlantTraits.html">plant::PlantTraits</a> &amp;traits)</td></tr>
<tr class="separator:ac014924ea9c6590fa2031788057cf271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fca641f79caa40b94e8c380f6066ba4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a5fca641f79caa40b94e8c380f6066ba4">shuffleSpecies</a> ()</td></tr>
<tr class="separator:a5fca641f79caa40b94e8c380f6066ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3051aafdf57fe194a9fd1236808dd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a6b3051aafdf57fe194a9fd1236808dd3">removeDeadSpecies</a> (double t)</td></tr>
<tr class="separator:a6b3051aafdf57fe194a9fd1236808dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67db3c7628f58088f2d0e7bec6ccb6b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a67db3c7628f58088f2d0e7bec6ccb6b9">addRandomSpecies</a> (double t)</td></tr>
<tr class="separator:a67db3c7628f58088f2d0e7bec6ccb6b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735460380b7ce3b6dacd6fdf3055aedc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#a735460380b7ce3b6dacd6fdf3055aedc">evolveTraits</a> (double t, double dt_evolution)</td></tr>
<tr class="separator:a735460380b7ce3b6dacd6fdf3055aedc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a51c6e3453e2bd4c3df67ce844862f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpfate_1_1Patch.html#ac4a51c6e3453e2bd4c3df67ce844862f">disturbPatch</a> (double t)</td></tr>
<tr class="separator:ac4a51c6e3453e2bd4c3df67ce844862f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00022">22</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8b436c6aac2f58c3dd3cba0c979f61d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b436c6aac2f58c3dd3cba0c979f61d9">&#9670;&nbsp;</a></span>Patch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pfate::Patch::Patch </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>params_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00008">8</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;                                  : <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>(<span class="stringliteral">&quot;IEBT&quot;</span>, <span class="stringliteral">&quot;rk45ck&quot;</span>) {</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ae742654848928a5dbd2379e262f11eb9">paramsFile</a> = params_file; <span class="comment">// = &quot;tests/params/p.ini&quot;;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <a class="code" href="classio_1_1Initializer.html">io::Initializer</a> I;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    I.<a class="code" href="classio_1_1Initializer.html#a7c3261fb7e141a0d06d9b0c41de9af66">parse</a>(params_file);</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#adb27144cda596255f54b7f0d3abe7dde">parent_dir</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;outDir&quot;</span>);</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a5e73008435155be5196fd656dfe59b72">expt_dir</a>   = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;exptName&quot;</span>);</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a93041d531e5ae055bf58bcc121296cb5">save_state</a> = (I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;saveState&quot;</span>) == <span class="stringliteral">&quot;yes&quot;</span>)? true : <span class="keyword">false</span>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a6b204d0bce09370761635535cb60bf07">state_outfile</a>  = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;savedStateFile&quot;</span>);</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#aae7cb6e9ee616849fcc51030c66d572c">config_outfile</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;savedConfigFile&quot;</span>);</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a6717b761d1daecbcc4bef004536056c8">continueFrom_stateFile</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;continueFromState&quot;</span>);</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#adc1adec1b45bcfc93c1fb79535ba9251">continueFrom_configFile</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;continueFromConfig&quot;</span>);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a6999f4826cfb1a2218024aa1a6b15ba7">continuePrevious</a> = (<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#adc1adec1b45bcfc93c1fb79535ba9251">continueFrom_configFile</a> != <span class="stringliteral">&quot;null&quot;</span>) &amp;&amp; (<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a6717b761d1daecbcc4bef004536056c8">continueFrom_stateFile</a> != <span class="stringliteral">&quot;null&quot;</span>);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a975623dd07c76d5b78ee98de0583fc6b">saveStateInterval</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;saveStateInterval&quot;</span>);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a3065c149095f1c4a4a2e3aa818a59b35">traits_file</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;traitsFile&quot;</span>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a8b99db3e97cf02acb4e2bcb7659754ff">n_species</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;nSpecies&quot;</span>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a872cb2468008a706cfb6649c92a97046">evolve_traits</a> = (I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;evolveTraits&quot;</span>) == <span class="stringliteral">&quot;yes&quot;</span>)? true : <span class="keyword">false</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a1e0a61fd7e98e6af00ed1bebdad96a0d">evolvable_traits</a> = I.<a class="code" href="classio_1_1Initializer.html#a92f49c1ad4e16a85f3f0f12201cb9707">get_vector</a>&lt;std::string&gt;(<span class="stringliteral">&quot;evolvableTraits&quot;</span>);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a69c436aba73769ab35e14ca682fa23cf">trait_scalars</a> = I.<a class="code" href="classio_1_1Initializer.html#a92f49c1ad4e16a85f3f0f12201cb9707">get_vector</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;traitScalars&quot;</span>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a55554e3624281674ee3d8036b765b269">trait_variances</a> = I.<a class="code" href="classio_1_1Initializer.html#a92f49c1ad4e16a85f3f0f12201cb9707">get_vector</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;traitVariances&quot;</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a5fff78aefd0dc56845f779ec91f4768c">T_r0_avg</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;T_r0_averaging&quot;</span>);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a69c436aba73769ab35e14ca682fa23cf">trait_scalars</a>.size() != <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a1e0a61fd7e98e6af00ed1bebdad96a0d">evolvable_traits</a>.size()) <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Please specify as many trait scalars as evolvable traits&quot;</span>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a55554e3624281674ee3d8036b765b269">trait_variances</a>.size() != <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a1e0a61fd7e98e6af00ed1bebdad96a0d">evolvable_traits</a>.size()) <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Please specify as many trait variances as evolvable traits&quot;</span>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ad51c006836c8948de58f22f4f7175427">timestep</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;timestep&quot;</span>);  <span class="comment">// timestep</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#aa025879039df4f87e5ec44e6c70e5219">time_unit</a> = I.<a class="code" href="classio_1_1Initializer.html#abbf31e66329bd03f5d968988c5aa1213">get_verbatim</a>(<span class="stringliteral">&quot;time_unit&quot;</span>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a82df543b02a52b078aaff2b37ebead7b">T_cohort_insertion</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;T_cohort_insertion&quot;</span>);    <span class="comment">// Cohort insertion timestep</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#af748396e17b30f9a17d1f9473e3804f2">solver_method</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;solver&quot;</span>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a5d5e7a4551c9d1471007af8c52058497">res</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;resolution&quot;</span>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a749fe89bba82133621f74abb7396f679">T_invasion</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;T_invasion&quot;</span>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a720f50305169ef2ea26ae9af444da578">T_seed_rain_avg</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;T_seed_rain_avg&quot;</span>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a594eff216fc1ea43f19617a91029b66b">T_return</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;T_return&quot;</span>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#a80128e3f20c12e21640986daf17798e8">i_metFile</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;i_metFile&quot;</span>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#afeb41c6b8bdc66fe10bdb2ea02aa0ab4">a_metFile</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;a_metFile&quot;</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#ae27089c4b9fb1b1547b985a1cf502e42">co2File</a>   = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;co2File&quot;</span>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#a8041d11c8f2968d520a88da9d278fb54">update_i_met</a> = (<a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#a80128e3f20c12e21640986daf17798e8">i_metFile</a> == <span class="stringliteral">&quot;null&quot;</span>)? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#a90812d927002af407680ea3182c98e58">update_a_met</a> = (<a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#afeb41c6b8bdc66fe10bdb2ea02aa0ab4">a_metFile</a> == <span class="stringliteral">&quot;null&quot;</span>)? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#a145bdd904cb4c5a638885e4a30715fdc">update_co2</a>   = (<a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#ae27089c4b9fb1b1547b985a1cf502e42">co2File</a>   == <span class="stringliteral">&quot;null&quot;</span>)? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">props</a>.<a class="code" href="classpfate_1_1CommunityProperties.html#a7000f9b6f1faa3fbf24cf72800088b54">emgProps_file</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;std::string&gt;(<span class="stringliteral">&quot;emgProps&quot;</span>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">props</a>.<a class="code" href="classpfate_1_1CommunityProperties.html#a77ff093b5f19fb360cc2e773d369b545">cwmAvg_file</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;std::string&gt;(<span class="stringliteral">&quot;cwmAvg&quot;</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">props</a>.<a class="code" href="classpfate_1_1CommunityProperties.html#a8bec5745a8e5b1ae0a5fc5e9735d5d2a">cwmperSpecies_file</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;std::string&gt;(<span class="stringliteral">&quot;cwmperSpecies&quot;</span>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">props</a>.<a class="code" href="classpfate_1_1CommunityProperties.html#a46a94cdef86c8361a7aa1d71c9dd3abe">traits_file</a> = I.<a class="code" href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">get</a>&lt;std::string&gt;(<span class="stringliteral">&quot;traits&quot;</span>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#ab4c96a4ee454126766b0f135228643df">traits0</a>.<a class="code" href="classplant_1_1PlantTraits.html#a752ff5e88101f3002440c3cd8879cf31">init</a>(I);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#af40afab09d5713fb4d351b596cd65f70">par0</a>.<a class="code" href="classplant_1_1PlantParameters.html#a6f4ee512f917665608504a6a893d92f3">init</a>(I);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="ttc" id="aclassio_1_1Initializer_html"><div class="ttname"><a href="classio_1_1Initializer.html">io::Initializer</a></div><div class="ttdoc">A simple initializer that reads parameters from an ini file.</div><div class="ttdef"><b>Definition:</b> <a href="initializer__v2_8h_source.html#l00059">initializer_v2.h:59</a></div></div>
<div class="ttc" id="aclassio_1_1Initializer_html_a098a8511a950a4449925c8315af36bdb"><div class="ttname"><a href="classio_1_1Initializer.html#a098a8511a950a4449925c8315af36bdb">io::Initializer::get</a></div><div class="ttdeci">T get(const std::string &amp;sectionname, const std::string &amp;keyname) const</div><div class="ttdef"><b>Definition:</b> <a href="initializer__v2_8h_source.html#l00130">initializer_v2.h:130</a></div></div>
<div class="ttc" id="aclassio_1_1Initializer_html_a7c3261fb7e141a0d06d9b0c41de9af66"><div class="ttname"><a href="classio_1_1Initializer.html#a7c3261fb7e141a0d06d9b0c41de9af66">io::Initializer::parse</a></div><div class="ttdeci">void parse(std::istream &amp;in, bool add=false, bool verbose=false)</div><div class="ttdef"><b>Definition:</b> <a href="initializer__v2_8h_source.html#l00081">initializer_v2.h:81</a></div></div>
<div class="ttc" id="aclassio_1_1Initializer_html_a92f49c1ad4e16a85f3f0f12201cb9707"><div class="ttname"><a href="classio_1_1Initializer.html#a92f49c1ad4e16a85f3f0f12201cb9707">io::Initializer::get_vector</a></div><div class="ttdeci">std::vector&lt; T &gt; get_vector(const std::string &amp;sectionname, const std::string &amp;keyname) const</div><div class="ttdef"><b>Definition:</b> <a href="initializer__v2_8h_source.html#l00144">initializer_v2.h:144</a></div></div>
<div class="ttc" id="aclassio_1_1Initializer_html_abbf31e66329bd03f5d968988c5aa1213"><div class="ttname"><a href="classio_1_1Initializer.html#abbf31e66329bd03f5d968988c5aa1213">io::Initializer::get_verbatim</a></div><div class="ttdeci">std::string get_verbatim(const std::string &amp;sectionname, const std::string &amp;keyname) const</div><div class="ttdef"><b>Definition:</b> <a href="initializer__v2_8h_source.html#l00160">initializer_v2.h:160</a></div></div>
<div class="ttc" id="aclasspfate_1_1CommunityProperties_html_a46a94cdef86c8361a7aa1d71c9dd3abe"><div class="ttname"><a href="classpfate_1_1CommunityProperties.html#a46a94cdef86c8361a7aa1d71c9dd3abe">pfate::CommunityProperties::traits_file</a></div><div class="ttdeci">std::string traits_file</div><div class="ttdef"><b>Definition:</b> <a href="community__properties_8h_source.html#l00079">community_properties.h:79</a></div></div>
<div class="ttc" id="aclasspfate_1_1CommunityProperties_html_a7000f9b6f1faa3fbf24cf72800088b54"><div class="ttname"><a href="classpfate_1_1CommunityProperties.html#a7000f9b6f1faa3fbf24cf72800088b54">pfate::CommunityProperties::emgProps_file</a></div><div class="ttdeci">std::string emgProps_file</div><div class="ttdef"><b>Definition:</b> <a href="community__properties_8h_source.html#l00076">community_properties.h:76</a></div></div>
<div class="ttc" id="aclasspfate_1_1CommunityProperties_html_a77ff093b5f19fb360cc2e773d369b545"><div class="ttname"><a href="classpfate_1_1CommunityProperties.html#a77ff093b5f19fb360cc2e773d369b545">pfate::CommunityProperties::cwmAvg_file</a></div><div class="ttdeci">std::string cwmAvg_file</div><div class="ttdef"><b>Definition:</b> <a href="community__properties_8h_source.html#l00077">community_properties.h:77</a></div></div>
<div class="ttc" id="aclasspfate_1_1CommunityProperties_html_a8bec5745a8e5b1ae0a5fc5e9735d5d2a"><div class="ttname"><a href="classpfate_1_1CommunityProperties.html#a8bec5745a8e5b1ae0a5fc5e9735d5d2a">pfate::CommunityProperties::cwmperSpecies_file</a></div><div class="ttdeci">std::string cwmperSpecies_file</div><div class="ttdef"><b>Definition:</b> <a href="community__properties_8h_source.html#l00078">community_properties.h:78</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a212f51188727deb3c00b1a9ed9d6f313"><div class="ttname"><a href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">pfate::Patch::props</a></div><div class="ttdeci">CommunityProperties props</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00044">plantfate_patch.h:44</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a38f6f6d4b7e39b3bb8875f932558c715"><div class="ttname"><a href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">pfate::Patch::S</a></div><div class="ttdeci">Solver S</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00039">plantfate_patch.h:39</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a47e6e817aab6c4aa75992eb71fb09cb6"><div class="ttname"><a href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">pfate::Patch::climate_stream</a></div><div class="ttdeci">env::ClimateStream climate_stream</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00035">plantfate_patch.h:35</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a84fd2d29e9e81ff264d783499825863e"><div class="ttname"><a href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">pfate::Patch::config</a></div><div class="ttdeci">PlantFateConfig config</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00024">plantfate_patch.h:24</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_ab4c96a4ee454126766b0f135228643df"><div class="ttname"><a href="classpfate_1_1Patch.html#ab4c96a4ee454126766b0f135228643df">pfate::Patch::traits0</a></div><div class="ttdeci">plant::PlantTraits traits0</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00032">plantfate_patch.h:32</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_af40afab09d5713fb4d351b596cd65f70"><div class="ttname"><a href="classpfate_1_1Patch.html#af40afab09d5713fb4d351b596cd65f70">pfate::Patch::par0</a></div><div class="ttdeci">plant::PlantParameters par0</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00031">plantfate_patch.h:31</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a1e0a61fd7e98e6af00ed1bebdad96a0d"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a1e0a61fd7e98e6af00ed1bebdad96a0d">pfate::PlantFateConfig::evolvable_traits</a></div><div class="ttdeci">std::vector&lt; std::string &gt; evolvable_traits</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00050">plantfate_config.h:50</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a3065c149095f1c4a4a2e3aa818a59b35"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a3065c149095f1c4a4a2e3aa818a59b35">pfate::PlantFateConfig::traits_file</a></div><div class="ttdeci">std::string traits_file</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00031">plantfate_config.h:31</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a55554e3624281674ee3d8036b765b269"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a55554e3624281674ee3d8036b765b269">pfate::PlantFateConfig::trait_variances</a></div><div class="ttdeci">std::vector&lt; double &gt; trait_variances</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00051">plantfate_config.h:51</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a594eff216fc1ea43f19617a91029b66b"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a594eff216fc1ea43f19617a91029b66b">pfate::PlantFateConfig::T_return</a></div><div class="ttdeci">double T_return</div><div class="ttdoc">Return interval of disturbance (patch clearance)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00043">plantfate_config.h:43</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a5d5e7a4551c9d1471007af8c52058497"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a5d5e7a4551c9d1471007af8c52058497">pfate::PlantFateConfig::res</a></div><div class="ttdeci">double res</div><div class="ttdoc">initial resolution on size axis - remains constant for fixed-mesh methods</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00046">plantfate_config.h:46</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a5e73008435155be5196fd656dfe59b72"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a5e73008435155be5196fd656dfe59b72">pfate::PlantFateConfig::expt_dir</a></div><div class="ttdeci">std::string expt_dir</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00015">plantfate_config.h:15</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a5fff78aefd0dc56845f779ec91f4768c"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a5fff78aefd0dc56845f779ec91f4768c">pfate::PlantFateConfig::T_r0_avg</a></div><div class="ttdeci">double T_r0_avg</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00053">plantfate_config.h:53</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a6717b761d1daecbcc4bef004536056c8"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a6717b761d1daecbcc4bef004536056c8">pfate::PlantFateConfig::continueFrom_stateFile</a></div><div class="ttdeci">std::string continueFrom_stateFile</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00025">plantfate_config.h:25</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a6999f4826cfb1a2218024aa1a6b15ba7"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a6999f4826cfb1a2218024aa1a6b15ba7">pfate::PlantFateConfig::continuePrevious</a></div><div class="ttdeci">bool continuePrevious</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00027">plantfate_config.h:27</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a69c436aba73769ab35e14ca682fa23cf"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a69c436aba73769ab35e14ca682fa23cf">pfate::PlantFateConfig::trait_scalars</a></div><div class="ttdeci">std::vector&lt; double &gt; trait_scalars</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00052">plantfate_config.h:52</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a6b204d0bce09370761635535cb60bf07"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a6b204d0bce09370761635535cb60bf07">pfate::PlantFateConfig::state_outfile</a></div><div class="ttdeci">std::string state_outfile</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00022">plantfate_config.h:22</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a720f50305169ef2ea26ae9af444da578"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a720f50305169ef2ea26ae9af444da578">pfate::PlantFateConfig::T_seed_rain_avg</a></div><div class="ttdeci">double T_seed_rain_avg</div><div class="ttdoc">Interval over which seed rains should be averaged (multi-patch dynamics)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00042">plantfate_config.h:42</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a749fe89bba82133621f74abb7396f679"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a749fe89bba82133621f74abb7396f679">pfate::PlantFateConfig::T_invasion</a></div><div class="ttdeci">double T_invasion</div><div class="ttdoc">Interval between successive species invasions.</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00044">plantfate_config.h:44</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a82df543b02a52b078aaff2b37ebead7b"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a82df543b02a52b078aaff2b37ebead7b">pfate::PlantFateConfig::T_cohort_insertion</a></div><div class="ttdeci">double T_cohort_insertion</div><div class="ttdoc">Interval after which cohorts should be inserted, if using IEBT solver.</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00041">plantfate_config.h:41</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a872cb2468008a706cfb6649c92a97046"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a872cb2468008a706cfb6649c92a97046">pfate::PlantFateConfig::evolve_traits</a></div><div class="ttdeci">bool evolve_traits</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00032">plantfate_config.h:32</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a8b99db3e97cf02acb4e2bcb7659754ff"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a8b99db3e97cf02acb4e2bcb7659754ff">pfate::PlantFateConfig::n_species</a></div><div class="ttdeci">int n_species</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00030">plantfate_config.h:30</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a93041d531e5ae055bf58bcc121296cb5"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a93041d531e5ae055bf58bcc121296cb5">pfate::PlantFateConfig::save_state</a></div><div class="ttdeci">bool save_state</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00021">plantfate_config.h:21</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a975623dd07c76d5b78ee98de0583fc6b"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a975623dd07c76d5b78ee98de0583fc6b">pfate::PlantFateConfig::saveStateInterval</a></div><div class="ttdeci">int saveStateInterval</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00028">plantfate_config.h:28</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_aa025879039df4f87e5ec44e6c70e5219"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#aa025879039df4f87e5ec44e6c70e5219">pfate::PlantFateConfig::time_unit</a></div><div class="ttdeci">std::string time_unit</div><div class="ttdoc">Time unit in which all time points and intervals are specified. E.g. days since 1850-01-01.</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00039">plantfate_config.h:39</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_aae7cb6e9ee616849fcc51030c66d572c"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#aae7cb6e9ee616849fcc51030c66d572c">pfate::PlantFateConfig::config_outfile</a></div><div class="ttdeci">std::string config_outfile</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00023">plantfate_config.h:23</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_ad51c006836c8948de58f22f4f7175427"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#ad51c006836c8948de58f22f4f7175427">pfate::PlantFateConfig::timestep</a></div><div class="ttdeci">double timestep</div><div class="ttdoc">Simulation timestep: Patches are stepped at this timestep and computations before/after timstep are d...</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00040">plantfate_config.h:40</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_adb27144cda596255f54b7f0d3abe7dde"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#adb27144cda596255f54b7f0d3abe7dde">pfate::PlantFateConfig::parent_dir</a></div><div class="ttdeci">std::string parent_dir</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00015">plantfate_config.h:15</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_adc1adec1b45bcfc93c1fb79535ba9251"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#adc1adec1b45bcfc93c1fb79535ba9251">pfate::PlantFateConfig::continueFrom_configFile</a></div><div class="ttdeci">std::string continueFrom_configFile</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00026">plantfate_config.h:26</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_ae742654848928a5dbd2379e262f11eb9"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#ae742654848928a5dbd2379e262f11eb9">pfate::PlantFateConfig::paramsFile</a></div><div class="ttdeci">std::string paramsFile</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00012">plantfate_config.h:12</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_af748396e17b30f9a17d1f9473e3804f2"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#af748396e17b30f9a17d1f9473e3804f2">pfate::PlantFateConfig::solver_method</a></div><div class="ttdeci">std::string solver_method</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00048">plantfate_config.h:48</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1ClimateStream_html_a145bdd904cb4c5a638885e4a30715fdc"><div class="ttname"><a href="classpfate_1_1env_1_1ClimateStream.html#a145bdd904cb4c5a638885e4a30715fdc">pfate::env::ClimateStream::update_co2</a></div><div class="ttdeci">bool update_co2</div><div class="ttdef"><b>Definition:</b> <a href="climate__stream_8h_source.html#l00029">climate_stream.h:29</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1ClimateStream_html_a80128e3f20c12e21640986daf17798e8"><div class="ttname"><a href="classpfate_1_1env_1_1ClimateStream.html#a80128e3f20c12e21640986daf17798e8">pfate::env::ClimateStream::i_metFile</a></div><div class="ttdeci">std::string i_metFile</div><div class="ttdef"><b>Definition:</b> <a href="climate__stream_8h_source.html#l00023">climate_stream.h:23</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1ClimateStream_html_a8041d11c8f2968d520a88da9d278fb54"><div class="ttname"><a href="classpfate_1_1env_1_1ClimateStream.html#a8041d11c8f2968d520a88da9d278fb54">pfate::env::ClimateStream::update_i_met</a></div><div class="ttdeci">bool update_i_met</div><div class="ttdef"><b>Definition:</b> <a href="climate__stream_8h_source.html#l00027">climate_stream.h:27</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1ClimateStream_html_a90812d927002af407680ea3182c98e58"><div class="ttname"><a href="classpfate_1_1env_1_1ClimateStream.html#a90812d927002af407680ea3182c98e58">pfate::env::ClimateStream::update_a_met</a></div><div class="ttdeci">bool update_a_met</div><div class="ttdef"><b>Definition:</b> <a href="climate__stream_8h_source.html#l00028">climate_stream.h:28</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1ClimateStream_html_ae27089c4b9fb1b1547b985a1cf502e42"><div class="ttname"><a href="classpfate_1_1env_1_1ClimateStream.html#ae27089c4b9fb1b1547b985a1cf502e42">pfate::env::ClimateStream::co2File</a></div><div class="ttdeci">std::string co2File</div><div class="ttdef"><b>Definition:</b> <a href="climate__stream_8h_source.html#l00025">climate_stream.h:25</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1ClimateStream_html_afeb41c6b8bdc66fe10bdb2ea02aa0ab4"><div class="ttname"><a href="classpfate_1_1env_1_1ClimateStream.html#afeb41c6b8bdc66fe10bdb2ea02aa0ab4">pfate::env::ClimateStream::a_metFile</a></div><div class="ttdeci">std::string a_metFile</div><div class="ttdef"><b>Definition:</b> <a href="climate__stream_8h_source.html#l00024">climate_stream.h:24</a></div></div>
<div class="ttc" id="aclassplant_1_1PlantParameters_html_a6f4ee512f917665608504a6a893d92f3"><div class="ttname"><a href="classplant_1_1PlantParameters.html#a6f4ee512f917665608504a6a893d92f3">plant::PlantParameters::init</a></div><div class="ttdeci">void init(io::Initializer &amp;I)</div><div class="ttdef"><b>Definition:</b> <a href="traits__params_8cpp_source.html#l00158">traits_params.cpp:158</a></div></div>
<div class="ttc" id="aclassplant_1_1PlantTraits_html_a752ff5e88101f3002440c3cd8879cf31"><div class="ttname"><a href="classplant_1_1PlantTraits.html#a752ff5e88101f3002440c3cd8879cf31">plant::PlantTraits::init</a></div><div class="ttdeci">void init(io::Initializer &amp;I)</div><div class="ttdef"><b>Definition:</b> <a href="traits__params_8cpp_source.html#l00025">traits_params.cpp:25</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_a8b436c6aac2f58c3dd3cba0c979f61d9_cgraph.svg" width="914" height="302"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a67db3c7628f58088f2d0e7bec6ccb6b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67db3c7628f58088f2d0e7bec6ccb6b9">&#9670;&nbsp;</a></span>addRandomSpecies()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::addRandomSpecies </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00305">305</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                    {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;**** Invasion ****\n&quot;</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="classplant_1_1PlantTraits.html">plant::PlantTraits</a> traits = <a class="code" href="classpfate_1_1Patch.html#ab4c96a4ee454126766b0f135228643df">traits0</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    traits.<a class="code" href="classplant_1_1PlantTraits.html#a6e76d3f69afac02fc28949acc713936b">species_name</a> = <span class="stringliteral">&quot;spp_t&quot;</span>+to_string(t);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    traits.<a class="code" href="classplant_1_1PlantTraits.html#abdfad8afcd127e5d5627095f278cf1b1">lma</a>          = <a class="code" href="classpfate_1_1Patch.html#a9e206a8b8ffc34c68e42a30eaf096461">runif</a>(0.05, 0.25);    <span class="comment">//Tr.species[i].lma, </span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    traits.<a class="code" href="classplant_1_1PlantTraits.html#a4cd6d86786c24681481457ecaa322f3f">wood_density</a> = <a class="code" href="classpfate_1_1Patch.html#a9e206a8b8ffc34c68e42a30eaf096461">runif</a>(300, 900);   <span class="comment">//Tr.species[i].wood_density, </span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    traits.<a class="code" href="classplant_1_1PlantTraits.html#a9c0407f9468478d653f2b5b776ab227b">hmat</a>         = <a class="code" href="classpfate_1_1Patch.html#a9e206a8b8ffc34c68e42a30eaf096461">runif</a>(2, 35);      <span class="comment">//Tr.species[i].hmat, </span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    traits.<a class="code" href="classplant_1_1PlantTraits.html#a0d988211ceeb41469feff46a048fa956">p50_xylem</a>    = -2.29; <span class="comment">//runif(-6, -0.5);   //Tr.species[i].p50_xylem);</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#ac014924ea9c6590fa2031788057cf271">addSpeciesAndProbes</a>(t, traits);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a9e206a8b8ffc34c68e42a30eaf096461"><div class="ttname"><a href="classpfate_1_1Patch.html#a9e206a8b8ffc34c68e42a30eaf096461">pfate::Patch::runif</a></div><div class="ttdeci">double runif(double rmin=0, double rmax=1)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00224">plantfate_patch.cpp:224</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_ac014924ea9c6590fa2031788057cf271"><div class="ttname"><a href="classpfate_1_1Patch.html#ac014924ea9c6590fa2031788057cf271">pfate::Patch::addSpeciesAndProbes</a></div><div class="ttdeci">void addSpeciesAndProbes(double t, const plant::PlantTraits &amp;traits)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00246">plantfate_patch.cpp:246</a></div></div>
<div class="ttc" id="aclassplant_1_1PlantTraits_html"><div class="ttname"><a href="classplant_1_1PlantTraits.html">plant::PlantTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="traits__params_8h_source.html#l00015">traits_params.h:15</a></div></div>
<div class="ttc" id="aclassplant_1_1PlantTraits_html_a0d988211ceeb41469feff46a048fa956"><div class="ttname"><a href="classplant_1_1PlantTraits.html#a0d988211ceeb41469feff46a048fa956">plant::PlantTraits::p50_xylem</a></div><div class="ttdeci">double p50_xylem</div><div class="ttdoc">Xylem hydraulic vulnerability [MPa].</div><div class="ttdef"><b>Definition:</b> <a href="traits__params_8h_source.html#l00031">traits_params.h:31</a></div></div>
<div class="ttc" id="aclassplant_1_1PlantTraits_html_a4cd6d86786c24681481457ecaa322f3f"><div class="ttname"><a href="classplant_1_1PlantTraits.html#a4cd6d86786c24681481457ecaa322f3f">plant::PlantTraits::wood_density</a></div><div class="ttdeci">double wood_density</div><div class="ttdoc">[kg/m3]</div><div class="ttdef"><b>Definition:</b> <a href="traits__params_8h_source.html#l00030">traits_params.h:30</a></div></div>
<div class="ttc" id="aclassplant_1_1PlantTraits_html_a6e76d3f69afac02fc28949acc713936b"><div class="ttname"><a href="classplant_1_1PlantTraits.html#a6e76d3f69afac02fc28949acc713936b">plant::PlantTraits::species_name</a></div><div class="ttdeci">std::string species_name</div><div class="ttdef"><b>Definition:</b> <a href="traits__params_8h_source.html#l00020">traits_params.h:20</a></div></div>
<div class="ttc" id="aclassplant_1_1PlantTraits_html_a9c0407f9468478d653f2b5b776ab227b"><div class="ttname"><a href="classplant_1_1PlantTraits.html#a9c0407f9468478d653f2b5b776ab227b">plant::PlantTraits::hmat</a></div><div class="ttdeci">double hmat</div><div class="ttdoc">height at maturity [m]</div><div class="ttdef"><b>Definition:</b> <a href="traits__params_8h_source.html#l00027">traits_params.h:27</a></div></div>
<div class="ttc" id="aclassplant_1_1PlantTraits_html_abdfad8afcd127e5d5627095f278cf1b1"><div class="ttname"><a href="classplant_1_1PlantTraits.html#abdfad8afcd127e5d5627095f278cf1b1">plant::PlantTraits::lma</a></div><div class="ttdeci">double lma</div><div class="ttdoc">leaf mass per leaf area [kg/m2]</div><div class="ttdef"><b>Definition:</b> <a href="traits__params_8h_source.html#l00024">traits_params.h:24</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac014924ea9c6590fa2031788057cf271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac014924ea9c6590fa2031788057cf271">&#9670;&nbsp;</a></span>addSpeciesAndProbes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::addSpeciesAndProbes </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classplant_1_1PlantTraits.html">plant::PlantTraits</a> &amp;&#160;</td>
          <td class="paramname"><em>traits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00246">246</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                                                       {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    PSPM_Plant p1;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">//p1.initFromFile(paramsFile);</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    p1.init(<a class="code" href="classpfate_1_1Patch.html#af40afab09d5713fb4d351b596cd65f70">par0</a>, traits);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    ((<a class="code" href="classplant_1_1Plant.html">plant::Plant</a>*)&amp;p1)-&gt;print();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">//p1.geometry.set_lai(p1.par.lai0); // these are automatically set by init_state() in pspm_interface</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    p1.set_size({0.01});</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    AdaptiveSpecies&lt;PSPM_Plant&gt;* spp = <span class="keyword">new</span> AdaptiveSpecies&lt;PSPM_Plant&gt;(p1);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    spp-&gt;species_name = traits.<a class="code" href="classplant_1_1PlantTraits.html#a6e76d3f69afac02fc28949acc713936b">species_name</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    spp-&gt;evolvable_traits = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a1e0a61fd7e98e6af00ed1bebdad96a0d">evolvable_traits</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    spp-&gt;trait_scalars = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a69c436aba73769ab35e14ca682fa23cf">trait_scalars</a>; <span class="comment">//{800, 25};</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    spp-&gt;trait_variance = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a55554e3624281674ee3d8036b765b269">trait_variances</a>; <span class="comment">// vector&lt;double&gt;(2, 0.01);</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    spp-&gt;r0_hist.set_interval(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a5fff78aefd0dc56845f779ec91f4768c">T_r0_avg</a>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    spp-&gt;t_introduction = t;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    spp-&gt;seeds_hist.set_interval(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a720f50305169ef2ea26ae9af444da578">T_seed_rain_avg</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a872cb2468008a706cfb6649c92a97046">evolve_traits</a>) spp-&gt;createVariants(p1);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// Add resident species to solver</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.addSpecies({<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a5d5e7a4551c9d1471007af8c52058497">res</a>)}, {0.01}, {10}, {<span class="keyword">true</span>}, spp, 2, 1e-3);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">//S.addSpecies({0.01, 0.0100001}, spp, 3, 1e-3);</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// Add variants (probes) to solver</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a872cb2468008a706cfb6649c92a97046">evolve_traits</a>){</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> m : <span class="keyword">static_cast&lt;</span>AdaptiveSpecies&lt;PSPM_Plant&gt;*<span class="keyword">&gt;</span>(spp)-&gt;probes) </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.addSpecies({<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a5d5e7a4551c9d1471007af8c52058497">res</a>)}, {0.01}, {10}, {<span class="keyword">true</span>}, m, 2, 1e-3);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.copyCohortsToState();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;}</div>
<div class="ttc" id="aclassplant_1_1Plant_html"><div class="ttname"><a href="classplant_1_1Plant.html">plant::Plant</a></div><div class="ttdoc">The class for an individual plant.</div><div class="ttdef"><b>Definition:</b> <a href="plant_8h_source.html#l00018">plant.h:18</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ac014924ea9c6590fa2031788057cf271_cgraph.svg" width="634" height="235"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ac014924ea9c6590fa2031788057cf271_icgraph.svg" width="539" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab76971ff4ca9bf75128d6bbe186d9456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab76971ff4ca9bf75128d6bbe186d9456">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00209">209</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                 {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">//S.print();</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">props</a>.<a class="code" href="classpfate_1_1CommunityProperties.html#a9adebb940a7212442167bd4a5be57442">closeStreams</a>();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="namespacepfate.html#aa3b7425f62503d7549ea5237bccee611">saveState</a>(*<span class="keyword">this</span>, </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;              <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a19c5c9eff1e66dc0ec75773ed60738ff">out_dir</a> + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a6b204d0bce09370761635535cb60bf07">state_outfile</a>, </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;              <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a19c5c9eff1e66dc0ec75773ed60738ff">out_dir</a> + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#aae7cb6e9ee616849fcc51030c66d572c">config_outfile</a>, </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;              <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ae742654848928a5dbd2379e262f11eb9">paramsFile</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// free memory associated</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> s : <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec) <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span>AdaptiveSpecies&lt;PSPM_Plant&gt;*<span class="keyword">&gt;</span>(s); </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="ttc" id="aclasspfate_1_1CommunityProperties_html_a9adebb940a7212442167bd4a5be57442"><div class="ttname"><a href="classpfate_1_1CommunityProperties.html#a9adebb940a7212442167bd4a5be57442">pfate::CommunityProperties::closeStreams</a></div><div class="ttdeci">void closeStreams()</div><div class="ttdef"><b>Definition:</b> <a href="community__properties_8cpp_source.html#l00121">community_properties.cpp:121</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a19c5c9eff1e66dc0ec75773ed60738ff"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a19c5c9eff1e66dc0ec75773ed60738ff">pfate::PlantFateConfig::out_dir</a></div><div class="ttdeci">std::string out_dir</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00014">plantfate_config.h:14</a></div></div>
<div class="ttc" id="anamespacepfate_html_aa3b7425f62503d7549ea5237bccee611"><div class="ttname"><a href="namespacepfate.html#aa3b7425f62503d7549ea5237bccee611">pfate::saveState</a></div><div class="ttdeci">void saveState(Patch &amp;P, string state_outfile, string config_outfile, string params_file)</div><div class="ttdef"><b>Definition:</b> <a href="state__restore_8cpp_source.html#l00008">state_restore.cpp:8</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ab76971ff4ca9bf75128d6bbe186d9456_cgraph.svg" width="595" height="104"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ab76971ff4ca9bf75128d6bbe186d9456_icgraph.svg" width="322" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac4a51c6e3453e2bd4c3df67ce844862f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4a51c6e3453e2bd4c3df67ce844862f">&#9670;&nbsp;</a></span>disturbPatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::disturbPatch </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00323">323</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> spp : <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec){</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;spp-&gt;xsize(); ++i){</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keyword">auto</span>&amp; p = (<span class="keyword">static_cast&lt;</span>AdaptiveSpecies&lt;PSPM_Plant&gt;*<span class="keyword">&gt;</span>(spp))-&gt;getCohort(i);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            p.geometry.lai = p.par.lai0;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordtype">double</span> u_new = spp-&gt;getU(i) * 0 * double(rand())/RAND_MAX;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            spp-&gt;setU(i, u_new);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        spp-&gt;setX(spp-&gt;xsize()-1, spp-&gt;xb);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.copyCohortsToState();</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a735460380b7ce3b6dacd6fdf3055aedc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a735460380b7ce3b6dacd6fdf3055aedc">&#9670;&nbsp;</a></span>evolveTraits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::evolveTraits </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt_evolution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00318">318</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                                     {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> spp : <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec) <span class="keyword">static_cast&lt;</span>AdaptiveSpecies&lt;PSPM_Plant&gt;*<span class="keyword">&gt;</span>(spp)-&gt;calcFitnessGradient();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> spp : <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec) <span class="keyword">static_cast&lt;</span>AdaptiveSpecies&lt;PSPM_Plant&gt;*<span class="keyword">&gt;</span>(spp)-&gt;<a class="code" href="classpfate_1_1Patch.html#a735460380b7ce3b6dacd6fdf3055aedc">evolveTraits</a>(dt_evolution);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a735460380b7ce3b6dacd6fdf3055aedc"><div class="ttname"><a href="classpfate_1_1Patch.html#a735460380b7ce3b6dacd6fdf3055aedc">pfate::Patch::evolveTraits</a></div><div class="ttdeci">void evolveTraits(double t, double dt_evolution)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00318">plantfate_patch.cpp:318</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2e4b86b03a6a6834a363bf19c1d9587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2e4b86b03a6a6834a363bf19c1d9587">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::init </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tstart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00129">129</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                          {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a19c5c9eff1e66dc0ec75773ed60738ff">out_dir</a>  = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#adb27144cda596255f54b7f0d3abe7dde">parent_dir</a>  + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a5e73008435155be5196fd656dfe59b72">expt_dir</a>; <span class="comment">// TODO: Move to config::init()?</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// string command = &quot;mkdir -p &quot; + out_dir;</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    std::filesystem::create_directories(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a19c5c9eff1e66dc0ec75773ed60738ff">out_dir</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// string command2 = &quot;cp &quot; + paramsFile + &quot; &quot; + out_dir + &quot;/p.ini&quot;;</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    std::string copy_to = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a19c5c9eff1e66dc0ec75773ed60738ff">out_dir</a> + <span class="stringliteral">&quot;/p.ini&quot;</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (std::filesystem::exists(copy_to)) std::filesystem::remove(copy_to); <span class="comment">// use this because the overwrite flag in below command does not work!</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    std::filesystem::copy_file(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ae742654848928a5dbd2379e262f11eb9">paramsFile</a>, copy_to, std::filesystem::copy_options::overwrite_existing);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// int sysresult;</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// sysresult = system(command.c_str());</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// sysresult = system(command2.c_str());</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// ~~~~~~~ Set up time-points ~~~~~~~~~~~~~~~</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">y0</a> = tstart; <span class="comment">//I.get&lt;double&gt;(&quot;year0&quot;);</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a3f90f885ff0084b1a809159266326bd8">yf</a> = tend;   <span class="comment">//I.get&lt;double&gt;(&quot;yearf&quot;);</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a5852215889d3dad7d991bf0fc38ec2cf">ye</a> = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">y0</a> + <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a5fff78aefd0dc56845f779ec91f4768c">T_r0_avg</a> + 20;  <span class="comment">// year in which trait evolution starts (need to allow this period because r0 is averaged over previous time)</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a3868231658ef110c9af7af35ee9be69b">ts</a>.set_units(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#aa025879039df4f87e5ec44e6c70e5219">time_unit</a>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#af40afab09d5713fb4d351b596cd65f70">par0</a>.<a class="code" href="classplant_1_1PlantParameters.html#a7a0dc41bcb06a66292f3040918893c4b">set_tscale</a>(<a class="code" href="classpfate_1_1Patch.html#a3868231658ef110c9af7af35ee9be69b">ts</a>.get_tscale());</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#ad6da7a3a21e9237ca8cd1e4a631b06b3">t_next_disturbance</a> = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">y0</a> + <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a594eff216fc1ea43f19617a91029b66b">T_return</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a6b6b7ac3f4a4017b2f534279fc7afec3">t_next_invasion</a>    = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">y0</a> + <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a749fe89bba82133621f74abb7396f679">T_invasion</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a0e9956fd78450b7b554787314d0f6d99">t_next_savestate</a>   = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">y0</a>; <span class="comment">// this will write state once at the beginning too, which is probably unnecessary</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a871b9cac7034dc81fb04449971952570">t_next_writestate</a>  = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">y0</a>; <span class="comment">// this will write state once at the beginning too, which is probably unnecessary</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// ~~~~~~~ Set up environment ~~~~~~~~~~~~~~~</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1LightEnvironment.html#a27588f976abcb0b5e32271cb475c2ee6">use_ppa</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1Climate.html#a75a84463176cf6c2c86192959fdb686b">set_elevation</a>(0);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1Climate.html#ad15a02a1fa35c5d34d8b46f4a58421fb">set_acclim_timescale</a>(7); </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#af886bf0c88d29c9460067a124c000f3d">init</a>();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// ~~~~~~~~~~ Create solver ~~~~~~~~~~~~~~~~~~~~~~~~~</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a> = Solver(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#af748396e17b30f9a17d1f9473e3804f2">solver_method</a>, <span class="stringliteral">&quot;rk45ck&quot;</span>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.control.abm_n0 = 20;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.control.ode_ifmu_stepsize = 1e20; <span class="comment">//timestep; //0.02; //0.0833333;</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.control.cohort_insertion_dt = <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a82df543b02a52b078aaff2b37ebead7b">T_cohort_insertion</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.control.sync_cohort_insertion = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.control.ifmu_centered_grids = <span class="keyword">false</span>; <span class="comment">//true;</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.control.ebt_ucut = 1e-7;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.control.cm_use_log_densities = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// S.control.cohort_insertion_tol = 1e-6;</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.setEnvironment(&amp;<a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// Add species</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a6999f4826cfb1a2218024aa1a6b15ba7">continuePrevious</a>){</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="namespacepfate.html#acf2c2a4b2aac6abc0c2c61691e3b0f21">restoreState</a>(*<span class="keyword">this</span>, <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a6717b761d1daecbcc4bef004536056c8">continueFrom_stateFile</a>, <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#adc1adec1b45bcfc93c1fb79535ba9251">continueFrom_configFile</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">y0</a> = <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.current_time; <span class="comment">// replace y0</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="comment">// ~~~~~~~~~~ Read initial trait values ~~~~~~~~~~~~~~~~~~~~~~~~~</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        std::vector&lt;plant::PlantTraits&gt; file_species = <a class="code" href="classpfate_1_1Patch.html#ab58a899c33839507b147bc7a59a2d5c2">readTraitsFromFile</a>(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a3065c149095f1c4a4a2e3aa818a59b35">traits_file</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; s : file_species){</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            std::cout &lt;&lt; s.species_name &lt;&lt; <span class="stringliteral">&quot;:  &quot;</span> &lt;&lt; s.lma &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; s.wood_density &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; s.hmat &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; s.p50_xylem &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="comment">// ~~~ Create initial resident species pool from traits file ~~~~</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a8b99db3e97cf02acb4e2bcb7659754ff">n_species</a>; ++i){</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <a class="code" href="classplant_1_1PlantTraits.html">plant::PlantTraits</a> traits = <a class="code" href="classpfate_1_1Patch.html#ab4c96a4ee454126766b0f135228643df">traits0</a>; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            traits.<a class="code" href="classplant_1_1PlantTraits.html#a6e76d3f69afac02fc28949acc713936b">species_name</a> = file_species[i].species_name;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            traits.<a class="code" href="classplant_1_1PlantTraits.html#abdfad8afcd127e5d5627095f278cf1b1">lma</a>          = file_species[i].lma;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            traits.<a class="code" href="classplant_1_1PlantTraits.html#a4cd6d86786c24681481457ecaa322f3f">wood_density</a> = file_species[i].wood_density;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            traits.<a class="code" href="classplant_1_1PlantTraits.html#a9c0407f9468478d653f2b5b776ab227b">hmat</a>         = file_species[i].hmat;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            traits.<a class="code" href="classplant_1_1PlantTraits.html#a0d988211ceeb41469feff46a048fa956">p50_xylem</a>    = file_species[i].p50_xylem; <span class="comment">// runif(-3.5,-0.5);</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <a class="code" href="classpfate_1_1Patch.html#ac014924ea9c6590fa2031788057cf271">addSpeciesAndProbes</a>(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">y0</a>, traits);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="comment">// S.resetState(y0);</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.initialize(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">y0</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    } </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">//  std::random_shuffle(S.species_vec.begin(), S.species_vec.end());</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.print();  </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// sio.S = &amp;S;</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">props</a>.<a class="code" href="classpfate_1_1CommunityProperties.html#ac56567794c0dd3291d53070d6ba419b0">openStreams</a>(<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a19c5c9eff1e66dc0ec75773ed60738ff">out_dir</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
<div class="ttc" id="aclasspfate_1_1CommunityProperties_html_ac56567794c0dd3291d53070d6ba419b0"><div class="ttname"><a href="classpfate_1_1CommunityProperties.html#ac56567794c0dd3291d53070d6ba419b0">pfate::CommunityProperties::openStreams</a></div><div class="ttdeci">void openStreams(std::string dir)</div><div class="ttdef"><b>Definition:</b> <a href="community__properties_8cpp_source.html#l00093">community_properties.cpp:93</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a0e9956fd78450b7b554787314d0f6d99"><div class="ttname"><a href="classpfate_1_1Patch.html#a0e9956fd78450b7b554787314d0f6d99">pfate::Patch::t_next_savestate</a></div><div class="ttdeci">double t_next_savestate</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00028">plantfate_patch.h:28</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a3868231658ef110c9af7af35ee9be69b"><div class="ttname"><a href="classpfate_1_1Patch.html#a3868231658ef110c9af7af35ee9be69b">pfate::Patch::ts</a></div><div class="ttdeci">flare::TimeStepper ts</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00036">plantfate_patch.h:36</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a59eda2b21a7d954f754ecdf07a36e198"><div class="ttname"><a href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">pfate::Patch::E</a></div><div class="ttdeci">PSPM_Environment E</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00040">plantfate_patch.h:40</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a6b6b7ac3f4a4017b2f534279fc7afec3"><div class="ttname"><a href="classpfate_1_1Patch.html#a6b6b7ac3f4a4017b2f534279fc7afec3">pfate::Patch::t_next_invasion</a></div><div class="ttdeci">double t_next_invasion</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00027">plantfate_patch.h:27</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a871b9cac7034dc81fb04449971952570"><div class="ttname"><a href="classpfate_1_1Patch.html#a871b9cac7034dc81fb04449971952570">pfate::Patch::t_next_writestate</a></div><div class="ttdeci">double t_next_writestate</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00029">plantfate_patch.h:29</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_ab58a899c33839507b147bc7a59a2d5c2"><div class="ttname"><a href="classpfate_1_1Patch.html#ab58a899c33839507b147bc7a59a2d5c2">pfate::Patch::readTraitsFromFile</a></div><div class="ttdeci">std::vector&lt; plant::PlantTraits &gt; readTraitsFromFile(std::string fname)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00083">plantfate_patch.cpp:83</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_ad6da7a3a21e9237ca8cd1e4a631b06b3"><div class="ttname"><a href="classpfate_1_1Patch.html#ad6da7a3a21e9237ca8cd1e4a631b06b3">pfate::Patch::t_next_disturbance</a></div><div class="ttdeci">double t_next_disturbance</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8h_source.html#l00026">plantfate_patch.h:26</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a3f90f885ff0084b1a809159266326bd8"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a3f90f885ff0084b1a809159266326bd8">pfate::PlantFateConfig::yf</a></div><div class="ttdeci">double yf</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00036">plantfate_config.h:36</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_a5852215889d3dad7d991bf0fc38ec2cf"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#a5852215889d3dad7d991bf0fc38ec2cf">pfate::PlantFateConfig::ye</a></div><div class="ttdeci">double ye</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00037">plantfate_config.h:37</a></div></div>
<div class="ttc" id="aclasspfate_1_1PlantFateConfig_html_ac75e323e6e233456b09bb02d1012b04e"><div class="ttname"><a href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">pfate::PlantFateConfig::y0</a></div><div class="ttdeci">double y0</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__config_8h_source.html#l00035">plantfate_config.h:35</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1ClimateStream_html_af886bf0c88d29c9460067a124c000f3d"><div class="ttname"><a href="classpfate_1_1env_1_1ClimateStream.html#af886bf0c88d29c9460067a124c000f3d">pfate::env::ClimateStream::init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition:</b> <a href="climate__stream_8cpp_source.html#l00006">climate_stream.cpp:6</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1Climate_html_a75a84463176cf6c2c86192959fdb686b"><div class="ttname"><a href="classpfate_1_1env_1_1Climate.html#a75a84463176cf6c2c86192959fdb686b">pfate::env::Climate::set_elevation</a></div><div class="ttdeci">void set_elevation(double _elv)</div><div class="ttdef"><b>Definition:</b> <a href="climate_8cpp_source.html#l00071">climate.cpp:71</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1Climate_html_ad15a02a1fa35c5d34d8b46f4a58421fb"><div class="ttname"><a href="classpfate_1_1env_1_1Climate.html#ad15a02a1fa35c5d34d8b46f4a58421fb">pfate::env::Climate::set_acclim_timescale</a></div><div class="ttdeci">void set_acclim_timescale(double tau)</div><div class="ttdoc">Set acclimation timescale.</div><div class="ttdef"><b>Definition:</b> <a href="climate_8cpp_source.html#l00086">climate.cpp:86</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1LightEnvironment_html_a27588f976abcb0b5e32271cb475c2ee6"><div class="ttname"><a href="classpfate_1_1env_1_1LightEnvironment.html#a27588f976abcb0b5e32271cb475c2ee6">pfate::env::LightEnvironment::use_ppa</a></div><div class="ttdeci">bool use_ppa</div><div class="ttdef"><b>Definition:</b> <a href="light__environment_8h_source.html#l00014">light_environment.h:14</a></div></div>
<div class="ttc" id="aclassplant_1_1PlantParameters_html_a7a0dc41bcb06a66292f3040918893c4b"><div class="ttname"><a href="classplant_1_1PlantParameters.html#a7a0dc41bcb06a66292f3040918893c4b">plant::PlantParameters::set_tscale</a></div><div class="ttdeci">void set_tscale(double tscale)</div><div class="ttdef"><b>Definition:</b> <a href="traits__params_8cpp_source.html#l00215">traits_params.cpp:215</a></div></div>
<div class="ttc" id="anamespacepfate_html_acf2c2a4b2aac6abc0c2c61691e3b0f21"><div class="ttname"><a href="namespacepfate.html#acf2c2a4b2aac6abc0c2c61691e3b0f21">pfate::restoreState</a></div><div class="ttdeci">void restoreState(Patch &amp;P, string state_infile, string config_infile)</div><div class="ttdef"><b>Definition:</b> <a href="state__restore_8cpp_source.html#l00034">state_restore.cpp:34</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ad2e4b86b03a6a6834a363bf19c1d9587_cgraph.svg" width="835" height="584"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ad2e4b86b03a6a6834a363bf19c1d9587_icgraph.svg" width="308" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab58a899c33839507b147bc7a59a2d5c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab58a899c33839507b147bc7a59a2d5c2">&#9670;&nbsp;</a></span>readTraitsFromFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classplant_1_1PlantTraits.html">plant::PlantTraits</a> &gt; pfate::Patch::readTraitsFromFile </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00083">83</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                                                    {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    std::ifstream fin(fname.c_str());</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (!fin){</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Could not open file &quot;</span> + fname + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    std::vector&lt;plant::PlantTraits&gt; species;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// read header</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    flare::CSVRow row;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    fin &gt;&gt; row;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="classplant_1_1PlantTraits.html">plant::PlantTraits</a> traits;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// read time column for all rows</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">while</span>(fin &gt;&gt; row){</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        std::string cell;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        cell = row[1];</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        traits.<a class="code" href="classplant_1_1PlantTraits.html#a6e76d3f69afac02fc28949acc713936b">species_name</a> = cell; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        cell = row[4];</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> (cell != <span class="stringliteral">&quot;&quot;</span> &amp;&amp; cell != <span class="stringliteral">&quot;NA&quot;</span>) traits.<a class="code" href="classplant_1_1PlantTraits.html#a4cd6d86786c24681481457ecaa322f3f">wood_density</a> = std::stod(cell)*1000; <span class="comment">// g/cc to kg/m3</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">else</span> traits.<a class="code" href="classplant_1_1PlantTraits.html#a4cd6d86786c24681481457ecaa322f3f">wood_density</a> = 686.638;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        cell = row[5];</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">if</span> (cell != <span class="stringliteral">&quot;&quot;</span> &amp;&amp; cell != <span class="stringliteral">&quot;NA&quot;</span>) traits.<a class="code" href="classplant_1_1PlantTraits.html#a9c0407f9468478d653f2b5b776ab227b">hmat</a> = std::stod(cell);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">else</span> traits.<a class="code" href="classplant_1_1PlantTraits.html#a9c0407f9468478d653f2b5b776ab227b">hmat</a> = 23.99;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        cell = row[6];</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">if</span> (cell != <span class="stringliteral">&quot;&quot;</span> &amp;&amp; cell != <span class="stringliteral">&quot;NA&quot;</span>) traits.<a class="code" href="classplant_1_1PlantTraits.html#abdfad8afcd127e5d5627095f278cf1b1">lma</a> = std::stod(cell)*1e-3;  <span class="comment">// convert g/m2 to kg/m2</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">else</span> traits.<a class="code" href="classplant_1_1PlantTraits.html#abdfad8afcd127e5d5627095f278cf1b1">lma</a> = 0.119378;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        cell = row[7];</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">if</span> (cell != <span class="stringliteral">&quot;&quot;</span> &amp;&amp; cell != <span class="stringliteral">&quot;NA&quot;</span>) traits.<a class="code" href="classplant_1_1PlantTraits.html#a0d988211ceeb41469feff46a048fa956">p50_xylem</a> = std::stod(cell); </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">else</span> traits.<a class="code" href="classplant_1_1PlantTraits.html#a0d988211ceeb41469feff46a048fa956">p50_xylem</a> = -2.29;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="comment">// ignore further data (for now)    </span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        species.push_back(traits);      </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> species;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ab58a899c33839507b147bc7a59a2d5c2_icgraph.svg" width="530" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6b3051aafdf57fe194a9fd1236808dd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b3051aafdf57fe194a9fd1236808dd3">&#9670;&nbsp;</a></span>removeDeadSpecies()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::removeDeadSpecies </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00292">292</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                     {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// Remove dead species</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    vector&lt;AdaptiveSpecies&lt;PSPM_Plant&gt;*&gt; toRemove;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;<a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec.size(); ++k){</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keyword">auto</span> spp = <span class="keyword">static_cast&lt;</span>AdaptiveSpecies&lt;PSPM_Plant&gt;*<span class="keyword">&gt;</span>(<a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec[k]);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">if</span> (spp-&gt;isResident){</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">props</a>.<a class="code" href="classpfate_1_1CommunityProperties.html#a494959ad29810b7625ce449cc2982f4b">species</a>.<a class="code" href="classpfate_1_1CommunityProperties.html#a7c1d9e8349b0cc963ec37fd93759ca44">n_ind_vec</a>[k] &lt; 1e-6 &amp;&amp; (t-spp-&gt;t_introduction) &gt; 50) toRemove.push_back(spp);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> spp : toRemove) <a class="code" href="classpfate_1_1Patch.html#ae819ff5787441c244a4b0414b3153761">removeSpeciesAndProbes</a>(spp);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="ttc" id="aclasspfate_1_1CommunityProperties_html_a494959ad29810b7625ce449cc2982f4b"><div class="ttname"><a href="classpfate_1_1CommunityProperties.html#a494959ad29810b7625ce449cc2982f4b">pfate::CommunityProperties::species</a></div><div class="ttdeci">struct pfate::CommunityProperties::@2 species</div></div>
<div class="ttc" id="aclasspfate_1_1CommunityProperties_html_a7c1d9e8349b0cc963ec37fd93759ca44"><div class="ttname"><a href="classpfate_1_1CommunityProperties.html#a7c1d9e8349b0cc963ec37fd93759ca44">pfate::CommunityProperties::n_ind_vec</a></div><div class="ttdeci">std::vector&lt; double &gt; n_ind_vec</div><div class="ttdef"><b>Definition:</b> <a href="community__properties_8h_source.html#l00052">community_properties.h:52</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_ae819ff5787441c244a4b0414b3153761"><div class="ttname"><a href="classpfate_1_1Patch.html#ae819ff5787441c244a4b0414b3153761">pfate::Patch::removeSpeciesAndProbes</a></div><div class="ttdeci">void removeSpeciesAndProbes(AdaptiveSpecies&lt; PSPM_Plant &gt; *spp)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00230">plantfate_patch.cpp:230</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae819ff5787441c244a4b0414b3153761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae819ff5787441c244a4b0414b3153761">&#9670;&nbsp;</a></span>removeSpeciesAndProbes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::removeSpeciesAndProbes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpfate_1_1AdaptiveSpecies.html">AdaptiveSpecies</a>&lt; <a class="el" href="classpfate_1_1PSPM__Plant.html">PSPM_Plant</a> &gt; *&#160;</td>
          <td class="paramname"><em>spp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00230">230</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                                                  {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// delete species probes and remove their pointers from solver</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : spp-&gt;probes){ <span class="comment">// probes vector is not modified in the loop, so we can use it directly to iterate</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keyword">delete</span> p;               <span class="comment">// this will delete the object, but the pointer p and its copy in the solver remain</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.removeSpecies(p);    <span class="comment">// this will remove its pointer from the solver</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// delete the resident itself and remove its pointer from solver</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keyword">delete</span> spp;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.removeSpecies(spp);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// update state vector</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.copyCohortsToState();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab28768ff1b01cb532dfc9bca2d8ce2cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28768ff1b01cb532dfc9bca2d8ce2cb">&#9670;&nbsp;</a></span>restore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::restore </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>fin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00514">514</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                                  {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Restoring Patch...\n&quot;</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    std::string s; fin &gt;&gt; s; <span class="comment">// discard version number</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    assert(s == <span class="stringliteral">&quot;Patch::v1&quot;</span>);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    fin &gt;&gt; <a class="code" href="classpfate_1_1Patch.html#ad6da7a3a21e9237ca8cd1e4a631b06b3">t_next_disturbance</a></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        &gt;&gt; <a class="code" href="classpfate_1_1Patch.html#a6b6b7ac3f4a4017b2f534279fc7afec3">t_next_invasion</a></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        &gt;&gt; <a class="code" href="classpfate_1_1Patch.html#a0e9956fd78450b7b554787314d0f6d99">t_next_savestate</a></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        &gt;&gt; <a class="code" href="classpfate_1_1Patch.html#a871b9cac7034dc81fb04449971952570">t_next_writestate</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">// Read species associations (probes)</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    vector&lt;string&gt; spp_names;   </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    map&lt;string, int&gt; indices; <span class="comment">// name --&gt; index --- just a map that tells at which index in the species vector the species is located</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    vector&lt;vector&lt;int&gt;&gt; probe_lists;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordtype">int</span> n; fin &gt;&gt; n &gt;&gt; s; <span class="comment">// number of species to read, skip s = &quot; | &quot;</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    spp_names.resize(n); </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    probe_lists.resize(n);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i) fin &gt;&gt; std::quoted(spp_names[i]);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// map indices</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i){</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        indices[spp_names[i]] = i;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="comment">// Species read: </span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;Species read:\n&quot;</span>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;spp_names.size(); ++i) cout &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; indices[spp_names[i]] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; spp_names[i] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">string</span> s : spp_names){</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordtype">string</span> r_name; vector&lt;string&gt; probes_list;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="comment">// read resident name</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        fin &gt;&gt; std::quoted(r_name);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        assert(r_name == s);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="comment">// read probe names</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        fin &gt;&gt; n &gt;&gt; s; <span class="comment">// s has &quot; | &quot; </span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        cout &lt;&lt; spp_names[indices[r_name]] &lt;&lt; <span class="stringliteral">&quot; --&gt; &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; s;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i){</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            fin &gt;&gt; std::quoted(s);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            cout &lt;&lt; spp_names[indices[s]] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            probe_lists[indices[r_name]].push_back(indices[s]);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        cout &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    PSPM_Plant p;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    vector&lt;Species_Base*&gt; spp_proto;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;spp_names.size(); ++i){</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keyword">auto</span> spp = <span class="keyword">new</span> AdaptiveSpecies&lt;PSPM_Plant&gt;(p);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        spp_proto.push_back(<span class="keyword">static_cast&lt;</span>Species_Base*<span class="keyword">&gt;</span>(spp));</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> spp : spp_proto){</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keyword">static_cast&lt;</span>Species_Base*<span class="keyword">&gt;</span>(spp)-&gt;print();</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="comment">// restore solver</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.restore(fin, spp_proto);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// recreate species associations</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">string</span> s : spp_names){</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordtype">int</span> res_id = indices[s];</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keyword">auto</span> spp = <span class="keyword">static_cast&lt;</span>AdaptiveSpecies&lt;PSPM_Plant&gt;*<span class="keyword">&gt;</span>(<a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec[res_id]);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> probe_id : probe_lists[res_id]){</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            spp-&gt;probes.push_back(<span class="keyword">static_cast&lt;</span>AdaptiveSpecies&lt;PSPM_Plant&gt;*<span class="keyword">&gt;</span>(<a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec[probe_id]));</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        }   </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ab28768ff1b01cb532dfc9bca2d8ce2cb_icgraph.svg" width="703" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9e206a8b8ffc34c68e42a30eaf096461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e206a8b8ffc34c68e42a30eaf096461">&#9670;&nbsp;</a></span>runif()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double pfate::Patch::runif </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rmin</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rmax</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00224">224</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                           {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordtype">double</span> r = double(rand())/RAND_MAX; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> rmin + (rmax-rmin)*r;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae945da577720468b8fbf6afe71536a3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae945da577720468b8fbf6afe71536a3b">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::save </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>fout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00482">482</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    fout &lt;&lt; <span class="stringliteral">&quot;Patch::v1&quot;</span> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">// write patch-specific state</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    fout &lt;&lt; std::make_tuple(</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;              <a class="code" href="classpfate_1_1Patch.html#ad6da7a3a21e9237ca8cd1e4a631b06b3">t_next_disturbance</a></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            , <a class="code" href="classpfate_1_1Patch.html#a6b6b7ac3f4a4017b2f534279fc7afec3">t_next_invasion</a></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            , <a class="code" href="classpfate_1_1Patch.html#a0e9956fd78450b7b554787314d0f6d99">t_next_savestate</a></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            , <a class="code" href="classpfate_1_1Patch.html#a871b9cac7034dc81fb04449971952570">t_next_writestate</a>)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;         &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// write species names vector</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    fout &lt;&lt; <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec.size() &lt;&lt; <span class="stringliteral">&quot; | &quot;</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> s : <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec){</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keyword">auto</span> spp = <span class="keyword">static_cast&lt;</span>AdaptiveSpecies&lt;PSPM_Plant&gt;*<span class="keyword">&gt;</span>(s);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        fout &lt;&lt; std::quoted(spp-&gt;species_name) &lt;&lt; <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    fout &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// write species associations (list of probes)</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> s : <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec){</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keyword">auto</span> spp = <span class="keyword">static_cast&lt;</span>AdaptiveSpecies&lt;PSPM_Plant&gt;*<span class="keyword">&gt;</span>(s);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        fout &lt;&lt; std::quoted(spp-&gt;species_name) &lt;&lt; <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        fout &lt;&lt; spp-&gt;probes.size() &lt;&lt; <span class="stringliteral">&quot; | &quot;</span>; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : spp-&gt;probes) fout &lt;&lt; std::quoted(p-&gt;species_name) &lt;&lt; <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        fout &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// save Solver</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.save(fout);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ae945da577720468b8fbf6afe71536a3b_icgraph.svg" width="728" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a65bb4cfd0e87dd7017811a6ff1737722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65bb4cfd0e87dd7017811a6ff1737722">&#9670;&nbsp;</a></span>set_a_metFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::set_a_metFile </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00071">71</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                       {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#afeb41c6b8bdc66fe10bdb2ea02aa0ab4">a_metFile</a> = file;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#a90812d927002af407680ea3182c98e58">update_a_met</a> = (file == <span class="stringliteral">&quot;&quot;</span>)? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_a65bb4cfd0e87dd7017811a6ff1737722_icgraph.svg" width="322" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae3329fc40060265528e302fd75bd3b20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3329fc40060265528e302fd75bd3b20">&#9670;&nbsp;</a></span>set_co2File()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::set_co2File </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>co2file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00077">77</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                        {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#ae27089c4b9fb1b1547b985a1cf502e42">co2File</a> = co2file;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#a145bdd904cb4c5a638885e4a30715fdc">update_co2</a> = (co2file == <span class="stringliteral">&quot;&quot;</span>)? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ae3329fc40060265528e302fd75bd3b20_icgraph.svg" width="359" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab87c46fbd0576bb7031cb3ca8dbe7126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab87c46fbd0576bb7031cb3ca8dbe7126">&#9670;&nbsp;</a></span>set_i_metFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::set_i_metFile </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00065">65</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                       {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#a80128e3f20c12e21640986daf17798e8">i_metFile</a> = file;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>.<a class="code" href="classpfate_1_1env_1_1ClimateStream.html#a8041d11c8f2968d520a88da9d278fb54">update_i_met</a> = (file == <span class="stringliteral">&quot;&quot;</span>)? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ab87c46fbd0576bb7031cb3ca8dbe7126_icgraph.svg" width="318" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5fca641f79caa40b94e8c380f6066ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fca641f79caa40b94e8c380f6066ba4">&#9670;&nbsp;</a></span>shuffleSpecies()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::shuffleSpecies </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00284">284</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                          {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// Shuffle species in the species vector -- just for debugging</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;shuffling...\n&quot;</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    std::random_shuffle(<a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec.begin(), <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec.end());</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.copyCohortsToState();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae003bee4119e3a1122c9e1f8ebc9de28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae003bee4119e3a1122c9e1f8ebc9de28">&#9670;&nbsp;</a></span>simulate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::simulate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simulate patch dynamics TODO: Evntually, this function should be moved to a higher controller, which can simulate multiple patches and manage data IO In Plant-FATE, we should always simulate step-by-step because we are explicitly managing seed rain feedback. </p>

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00633">633</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                    {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">double</span> t=<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ac75e323e6e233456b09bb02d1012b04e">y0</a>; t &lt;= <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a3f90f885ff0084b1a809159266326bd8">yf</a>+1e-6; t=t+<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ad51c006836c8948de58f22f4f7175427">timestep</a>) {  <span class="comment">// 1e-6 ensures that last timestep to reach yf is actually executed</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">if</span> (fabs(t - <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.current_time) &lt; 1e-6) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="comment">// read forcing inputs</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="comment">// std::cout &lt;&lt; &quot;update Env (explicit)... t = &quot; &lt;&lt; S.current_time &lt;&lt; &quot;:\n&quot;;</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a4ef446560886e3bc56e08e196ee17827">update_climate</a>(<a class="code" href="classpfate_1_1Patch.html#a3868231658ef110c9af7af35ee9be69b">ts</a>.to_julian(<a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.current_time)+1e-6, <a class="code" href="classpfate_1_1Patch.html#a47e6e817aab6c4aa75992eb71fb09cb6">climate_stream</a>); <span class="comment">// The 1e-6 is to ensure that when t coincides exactly with time in climate file, we ensure that the value in climate file is read by asking for a slightly higher t</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="comment">// ((env::Climate&amp;)E).print(t);</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="comment">// simulate patch</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a7f6751c9c0efe222201a24fc2d400788">simulate_to</a>(t);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a4ef446560886e3bc56e08e196ee17827"><div class="ttname"><a href="classpfate_1_1Patch.html#a4ef446560886e3bc56e08e196ee17827">pfate::Patch::update_climate</a></div><div class="ttdeci">void update_climate(double julian_time, env::ClimateStream &amp;c_stream)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00456">plantfate_patch.cpp:456</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a7f6751c9c0efe222201a24fc2d400788"><div class="ttname"><a href="classpfate_1_1Patch.html#a7f6751c9c0efe222201a24fc2d400788">pfate::Patch::simulate_to</a></div><div class="ttdeci">void simulate_to(double t)</div><div class="ttdoc">This function simulates patch to time t.</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00386">plantfate_patch.cpp:386</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_ae003bee4119e3a1122c9e1f8ebc9de28_icgraph.svg" width="344" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7f6751c9c0efe222201a24fc2d400788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6751c9c0efe222201a24fc2d400788">&#9670;&nbsp;</a></span>simulate_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::simulate_to </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function simulates patch to time t. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Final time up to which patch should be simulated </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00386">386</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                               {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">int</span>(t*12) % 12 == 0){</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordtype">double</span> t_years_ce = flare::julian_to_yearsCE(<a class="code" href="classpfate_1_1Patch.html#a3868231658ef110c9af7af35ee9be69b">ts</a>.to_julian(<a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.current_time));</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordtype">double</span> tplus_years_ce = flare::julian_to_yearsCE(<a class="code" href="classpfate_1_1Patch.html#a3868231658ef110c9af7af35ee9be69b">ts</a>.to_julian(t));</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;stepping = &quot;</span> &lt;&lt; setprecision(6) &lt;&lt; <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.current_time &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; t_years_ce &lt;&lt; <span class="stringliteral">&quot; CE)&quot;</span> &lt;&lt; <span class="stringliteral">&quot; --&gt; &quot;</span> &lt;&lt; t &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; tplus_years_ce &lt;&lt; <span class="stringliteral">&quot; CE)&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t(&quot;</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> spp : <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.species_vec) cout &lt;&lt; spp-&gt;xsize() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// Step size to be used for evolutionary dynamics, </span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">// since trait evolution is done after completing step_to call</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordtype">double</span> dt_evol = t - <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.current_time; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">// perform step</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keyword">auto</span> after_step = [<span class="keyword">this</span>](<span class="keywordtype">double</span> _t){</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="comment">// Calc r0, update seed rain</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="comment">// calc_seedrain_r0(_t);</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    };</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a38f6f6d4b7e39b3bb8875f932558c715">S</a>.step_to(t, after_step);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">// update r0 and seed rain after step</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// this implies that seed tain and r0 are not updated during internal steps - I think thats okay.</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="group__trait__evolution.html#ga493d1e9d19f70f7e122897c6aac0abf1">calc_seedrain_r0</a>(t);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="comment">// evolve traits</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a872cb2468008a706cfb6649c92a97046">evolve_traits</a> &amp;&amp; t &gt; <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a5852215889d3dad7d991bf0fc38ec2cf">ye</a>){</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a735460380b7ce3b6dacd6fdf3055aedc">evolveTraits</a>(t, dt_evol);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// update output metrics - needed before removeDeadSpecies()</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">props</a>.<a class="code" href="classpfate_1_1CommunityProperties.html#a81a6aaa8387766442c2e9da98b2566f5">update</a>(t, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">// write outputs - must be done before species list is altered</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (t &gt; <a class="code" href="classpfate_1_1Patch.html#a871b9cac7034dc81fb04449971952570">t_next_writestate</a> || fabs(t-<a class="code" href="classpfate_1_1Patch.html#a871b9cac7034dc81fb04449971952570">t_next_writestate</a>) &lt; 1e-6){</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a212f51188727deb3c00b1a9ed9d6f313">props</a>.<a class="code" href="classpfate_1_1CommunityProperties.html#a66484eee7b9197f701f1fca73fc51c00">writeOut</a>(t, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a871b9cac7034dc81fb04449971952570">t_next_writestate</a> += 1;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">// remove species whose total abundance has fallen below threshold (its probes are also removed)</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a6b3051aafdf57fe194a9fd1236808dd3">removeDeadSpecies</a>(t); <span class="comment">// needs updated props for reading species abundances</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// Invasion by a random new species</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (t &gt;= <a class="code" href="classpfate_1_1Patch.html#a6b6b7ac3f4a4017b2f534279fc7afec3">t_next_invasion</a>){</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a67db3c7628f58088f2d0e7bec6ccb6b9">addRandomSpecies</a>(t);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a6b6b7ac3f4a4017b2f534279fc7afec3">t_next_invasion</a> = t + <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a749fe89bba82133621f74abb7396f679">T_invasion</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">// clear patch by disturbance   </span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (t &gt;= <a class="code" href="classpfate_1_1Patch.html#ad6da7a3a21e9237ca8cd1e4a631b06b3">t_next_disturbance</a>){</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#ac4a51c6e3453e2bd4c3df67ce844862f">disturbPatch</a>(t);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordtype">double</span> dt_next = -log(<span class="keywordtype">double</span>(rand())/RAND_MAX) * <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a594eff216fc1ea43f19617a91029b66b">T_return</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        dt_next = std::clamp(dt_next, 0.0, 10*<a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a594eff216fc1ea43f19617a91029b66b">T_return</a>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#ad6da7a3a21e9237ca8cd1e4a631b06b3">t_next_disturbance</a> = t + dt_next;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">// Save simulation state at specified intervals</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">if</span> (t &gt; <a class="code" href="classpfate_1_1Patch.html#a0e9956fd78450b7b554787314d0f6d99">t_next_savestate</a> || fabs(t-<a class="code" href="classpfate_1_1Patch.html#a0e9956fd78450b7b554787314d0f6d99">t_next_savestate</a>) &lt; 1e-6){</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <a class="code" href="namespacepfate.html#aa3b7425f62503d7549ea5237bccee611">saveState</a>(*<span class="keyword">this</span>, </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a19c5c9eff1e66dc0ec75773ed60738ff">out_dir</a> + <span class="stringliteral">&quot;/&quot;</span> + std::to_string(t) + <span class="stringliteral">&quot;_&quot;</span> + <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a6b204d0bce09370761635535cb60bf07">state_outfile</a>, </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a19c5c9eff1e66dc0ec75773ed60738ff">out_dir</a> + <span class="stringliteral">&quot;/&quot;</span> + std::to_string(t) + <span class="stringliteral">&quot;_&quot;</span> + <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#aae7cb6e9ee616849fcc51030c66d572c">config_outfile</a>, </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#ae742654848928a5dbd2379e262f11eb9">paramsFile</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="classpfate_1_1Patch.html#a0e9956fd78450b7b554787314d0f6d99">t_next_savestate</a> += <a class="code" href="classpfate_1_1Patch.html#a84fd2d29e9e81ff264d783499825863e">config</a>.<a class="code" href="classpfate_1_1PlantFateConfig.html#a975623dd07c76d5b78ee98de0583fc6b">saveStateInterval</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">// Shuffle species - just for debugging. result shouldnt change</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">// if (fabs(t-int(t)) &lt; 1e-6 &amp;&amp; (int(t) % 10) == 0) shuffleSpecies(); </span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div>
<div class="ttc" id="aclasspfate_1_1CommunityProperties_html_a66484eee7b9197f701f1fca73fc51c00"><div class="ttname"><a href="classpfate_1_1CommunityProperties.html#a66484eee7b9197f701f1fca73fc51c00">pfate::CommunityProperties::writeOut</a></div><div class="ttdeci">void writeOut(double t, Patch &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="community__properties_8cpp_source.html#l00135">community_properties.cpp:135</a></div></div>
<div class="ttc" id="aclasspfate_1_1CommunityProperties_html_a81a6aaa8387766442c2e9da98b2566f5"><div class="ttname"><a href="classpfate_1_1CommunityProperties.html#a81a6aaa8387766442c2e9da98b2566f5">pfate::CommunityProperties::update</a></div><div class="ttdeci">void update(double t, Patch &amp;P)</div><div class="ttdef"><b>Definition:</b> <a href="community__properties_8cpp_source.html#l00021">community_properties.cpp:21</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a67db3c7628f58088f2d0e7bec6ccb6b9"><div class="ttname"><a href="classpfate_1_1Patch.html#a67db3c7628f58088f2d0e7bec6ccb6b9">pfate::Patch::addRandomSpecies</a></div><div class="ttdeci">void addRandomSpecies(double t)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00305">plantfate_patch.cpp:305</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_a6b3051aafdf57fe194a9fd1236808dd3"><div class="ttname"><a href="classpfate_1_1Patch.html#a6b3051aafdf57fe194a9fd1236808dd3">pfate::Patch::removeDeadSpecies</a></div><div class="ttdeci">void removeDeadSpecies(double t)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00292">plantfate_patch.cpp:292</a></div></div>
<div class="ttc" id="aclasspfate_1_1Patch_html_ac4a51c6e3453e2bd4c3df67ce844862f"><div class="ttname"><a href="classpfate_1_1Patch.html#ac4a51c6e3453e2bd4c3df67ce844862f">pfate::Patch::disturbPatch</a></div><div class="ttdeci">void disturbPatch(double t)</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00323">plantfate_patch.cpp:323</a></div></div>
<div class="ttc" id="agroup__trait__evolution_html_ga493d1e9d19f70f7e122897c6aac0abf1"><div class="ttname"><a href="group__trait__evolution.html#ga493d1e9d19f70f7e122897c6aac0abf1">pfate::Patch::calc_seedrain_r0</a></div><div class="ttdeci">void calc_seedrain_r0(double t)</div><div class="ttdoc">Calculate growth rates of all species and update seed input.</div><div class="ttdef"><b>Definition:</b> <a href="plantfate__patch_8cpp_source.html#l00345">plantfate_patch.cpp:345</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_a7f6751c9c0efe222201a24fc2d400788_cgraph.svg" width="560" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7659e2f363200738e1699c030ac2c23b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7659e2f363200738e1699c030ac2c23b">&#9670;&nbsp;</a></span>update_climate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::update_climate </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>co2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>vpd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ppfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>swp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00461">461</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                                                                         {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1Climate.html#a14c61b71745cb4f46899df8535b0e3ae">clim_inst</a>.<a class="code" href="classpfate_1_1env_1_1Clim.html#aa3e81becece17a678bc6e7babbae5df7">tc</a>   = _tc;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1Climate.html#a14c61b71745cb4f46899df8535b0e3ae">clim_inst</a>.<a class="code" href="classpfate_1_1env_1_1Clim.html#a63b47078aa082c156901e63496189c9e">ppfd</a> = _ppfd;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1Climate.html#a14c61b71745cb4f46899df8535b0e3ae">clim_inst</a>.<a class="code" href="classpfate_1_1env_1_1Clim.html#a5d097a8175dfb82053fff2c5c655e88e">rn</a>   = _ppfd/2;  <span class="comment">// Tentative, placeholder</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1Climate.html#a14c61b71745cb4f46899df8535b0e3ae">clim_inst</a>.<a class="code" href="classpfate_1_1env_1_1Clim.html#a159900b7ce44d139c614053e3c28ab27">vpd</a>  = _vpd;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1Climate.html#a14c61b71745cb4f46899df8535b0e3ae">clim_inst</a>.<a class="code" href="classpfate_1_1env_1_1Clim.html#a99d684eb015402b31bdaed6a71fafb39">co2</a>  = _co2;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1Climate.html#a14c61b71745cb4f46899df8535b0e3ae">clim_inst</a>.<a class="code" href="classpfate_1_1env_1_1Clim.html#a589215b140b29e2e21032e095b9d2326">swp</a>  = _swp;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
<div class="ttc" id="aclasspfate_1_1env_1_1Clim_html_a159900b7ce44d139c614053e3c28ab27"><div class="ttname"><a href="classpfate_1_1env_1_1Clim.html#a159900b7ce44d139c614053e3c28ab27">pfate::env::Clim::vpd</a></div><div class="ttdeci">double vpd</div><div class="ttdoc">Vapour pressure deficit [Pa].</div><div class="ttdef"><b>Definition:</b> <a href="climate_8h_source.html#l00020">climate.h:20</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1Clim_html_a589215b140b29e2e21032e095b9d2326"><div class="ttname"><a href="classpfate_1_1env_1_1Clim.html#a589215b140b29e2e21032e095b9d2326">pfate::env::Clim::swp</a></div><div class="ttdeci">double swp</div><div class="ttdoc">Soil water potential [MPa].</div><div class="ttdef"><b>Definition:</b> <a href="climate_8h_source.html#l00023">climate.h:23</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1Clim_html_a5d097a8175dfb82053fff2c5c655e88e"><div class="ttname"><a href="classpfate_1_1env_1_1Clim.html#a5d097a8175dfb82053fff2c5c655e88e">pfate::env::Clim::rn</a></div><div class="ttdeci">double rn</div><div class="ttdoc">Net radiation at surface [W m-2].</div><div class="ttdef"><b>Definition:</b> <a href="climate_8h_source.html#l00019">climate.h:19</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1Clim_html_a63b47078aa082c156901e63496189c9e"><div class="ttname"><a href="classpfate_1_1env_1_1Clim.html#a63b47078aa082c156901e63496189c9e">pfate::env::Clim::ppfd</a></div><div class="ttdeci">double ppfd</div><div class="ttdoc">PAR (daily 24-hr mean) [umol m-2 s-1].</div><div class="ttdef"><b>Definition:</b> <a href="climate_8h_source.html#l00018">climate.h:18</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1Clim_html_a99d684eb015402b31bdaed6a71fafb39"><div class="ttname"><a href="classpfate_1_1env_1_1Clim.html#a99d684eb015402b31bdaed6a71fafb39">pfate::env::Clim::co2</a></div><div class="ttdeci">double co2</div><div class="ttdoc">Atmospheric CO2 [ppm].</div><div class="ttdef"><b>Definition:</b> <a href="climate_8h_source.html#l00021">climate.h:21</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1Clim_html_aa3e81becece17a678bc6e7babbae5df7"><div class="ttname"><a href="classpfate_1_1env_1_1Clim.html#aa3e81becece17a678bc6e7babbae5df7">pfate::env::Clim::tc</a></div><div class="ttdeci">double tc</div><div class="ttdoc">Temperature [C].</div><div class="ttdef"><b>Definition:</b> <a href="climate_8h_source.html#l00017">climate.h:17</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1Climate_html_a14c61b71745cb4f46899df8535b0e3ae"><div class="ttname"><a href="classpfate_1_1env_1_1Climate.html#a14c61b71745cb4f46899df8535b0e3ae">pfate::env::Climate::clim_inst</a></div><div class="ttdeci">Clim clim_inst</div><div class="ttdoc">Mean climate over the timestep.</div><div class="ttdef"><b>Definition:</b> <a href="climate_8h_source.html#l00083">climate.h:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ef446560886e3bc56e08e196ee17827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ef446560886e3bc56e08e196ee17827">&#9670;&nbsp;</a></span>update_climate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::update_climate </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>julian_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpfate_1_1env_1_1ClimateStream.html">env::ClimateStream</a> &amp;&#160;</td>
          <td class="paramname"><em>c_stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00456">456</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                                                        {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    c_stream.updateClimate(julian_time, <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classpfate_1_1Patch_a4ef446560886e3bc56e08e196ee17827_cgraph.svg" width="607" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a95e132a78319775d5b83d367f40b09c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95e132a78319775d5b83d367f40b09c2">&#9670;&nbsp;</a></span>update_climate_acclim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pfate::Patch::update_climate_acclim </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t_julian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>co2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>vpd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ppfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>swp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8cpp_source.html#l00470">470</a> of file <a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                                                                                                 {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    env::Clim C = <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1Climate.html#a66b56f49596b949d575cb25aa01e24b9">clim_acclim</a>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    C.<a class="code" href="classpfate_1_1env_1_1Clim.html#aa3e81becece17a678bc6e7babbae5df7">tc</a>   = _tc;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    C.ppfd = _ppfd;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    C.rn   = _ppfd/2;  <span class="comment">// Tentative, placeholder</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    C.vpd  = _vpd;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    C.co2  = _co2;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    C.swp  = _swp;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="classpfate_1_1Patch.html#a59eda2b21a7d954f754ecdf07a36e198">E</a>.<a class="code" href="classpfate_1_1env_1_1Climate.html#a9584e9aa19e54c0df7492e9d1efe9b33">set_forcing_acclim</a>(t_julian, C);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="ttc" id="aclasspfate_1_1env_1_1Climate_html_a66b56f49596b949d575cb25aa01e24b9"><div class="ttname"><a href="classpfate_1_1env_1_1Climate.html#a66b56f49596b949d575cb25aa01e24b9">pfate::env::Climate::clim_acclim</a></div><div class="ttdeci">Clim clim_acclim</div><div class="ttdoc">Daily climate measured as mean over 3 hrs around max radiation.</div><div class="ttdef"><b>Definition:</b> <a href="climate_8h_source.html#l00084">climate.h:84</a></div></div>
<div class="ttc" id="aclasspfate_1_1env_1_1Climate_html_a9584e9aa19e54c0df7492e9d1efe9b33"><div class="ttname"><a href="classpfate_1_1env_1_1Climate.html#a9584e9aa19e54c0df7492e9d1efe9b33">pfate::env::Climate::set_forcing_acclim</a></div><div class="ttdeci">void set_forcing_acclim(double t, const Clim &amp;c)</div><div class="ttdoc">Update acclim forcing as exp-weighted average of current and new value.</div><div class="ttdef"><b>Definition:</b> <a href="climate_8cpp_source.html#l00091">climate.cpp:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a47e6e817aab6c4aa75992eb71fb09cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47e6e817aab6c4aa75992eb71fb09cb6">&#9670;&nbsp;</a></span>climate_stream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpfate_1_1env_1_1ClimateStream.html">env::ClimateStream</a> pfate::Patch::climate_stream</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00035">35</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="a84fd2d29e9e81ff264d783499825863e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84fd2d29e9e81ff264d783499825863e">&#9670;&nbsp;</a></span>config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpfate_1_1PlantFateConfig.html">PlantFateConfig</a> pfate::Patch::config</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00024">24</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="a59eda2b21a7d954f754ecdf07a36e198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59eda2b21a7d954f754ecdf07a36e198">&#9670;&nbsp;</a></span>E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpfate_1_1PSPM__Environment.html">PSPM_Environment</a> pfate::Patch::E</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00040">40</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="af40afab09d5713fb4d351b596cd65f70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af40afab09d5713fb4d351b596cd65f70">&#9670;&nbsp;</a></span>par0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classplant_1_1PlantParameters.html">plant::PlantParameters</a> pfate::Patch::par0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00031">31</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="a212f51188727deb3c00b1a9ed9d6f313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a212f51188727deb3c00b1a9ed9d6f313">&#9670;&nbsp;</a></span>props</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpfate_1_1CommunityProperties.html">CommunityProperties</a> pfate::Patch::props</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00044">44</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="a38f6f6d4b7e39b3bb8875f932558c715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38f6f6d4b7e39b3bb8875f932558c715">&#9670;&nbsp;</a></span>S</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Solver pfate::Patch::S</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00039">39</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="ad6da7a3a21e9237ca8cd1e4a631b06b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6da7a3a21e9237ca8cd1e4a631b06b3">&#9670;&nbsp;</a></span>t_next_disturbance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double pfate::Patch::t_next_disturbance</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00026">26</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="a6b6b7ac3f4a4017b2f534279fc7afec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6b7ac3f4a4017b2f534279fc7afec3">&#9670;&nbsp;</a></span>t_next_invasion</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double pfate::Patch::t_next_invasion</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00027">27</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="a0e9956fd78450b7b554787314d0f6d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e9956fd78450b7b554787314d0f6d99">&#9670;&nbsp;</a></span>t_next_savestate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double pfate::Patch::t_next_savestate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00028">28</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="a871b9cac7034dc81fb04449971952570"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a871b9cac7034dc81fb04449971952570">&#9670;&nbsp;</a></span>t_next_writestate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double pfate::Patch::t_next_writestate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00029">29</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="ab4c96a4ee454126766b0f135228643df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4c96a4ee454126766b0f135228643df">&#9670;&nbsp;</a></span>traits0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classplant_1_1PlantTraits.html">plant::PlantTraits</a> pfate::Patch::traits0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00032">32</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<a id="a3868231658ef110c9af7af35ee9be69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3868231658ef110c9af7af35ee9be69b">&#9670;&nbsp;</a></span>ts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flare::TimeStepper pfate::Patch::ts</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="plantfate__patch_8h_source.html#l00036">36</a> of file <a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>inst/include/<a class="el" href="plantfate__patch_8h_source.html">plantfate_patch.h</a></li>
<li>src/<a class="el" href="plantfate__patch_8cpp_source.html">plantfate_patch.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
