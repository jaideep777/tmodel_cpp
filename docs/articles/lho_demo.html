<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="PlantFATE">
<title>TreeLife demo • PlantFATE</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="TreeLife demo">
<meta property="og:description" content="PlantFATE">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">PlantFATE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
    Home
  </a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--theory">
    <span class="fa fa-book fa-lg"></span>
     
    Theory
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--theory">
    <a class="dropdown-item" href="../articles/lho_demo.html">Life-history optimization</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../AUTHORS.html">
    <span class="fa fa-user fa-lg"></span>
     
    Authors
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../html/index.html">
    <span class="fa fa-code fa-lg"></span>
     
    API
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../articles/news.html">
    <span class="fa fa-newspaper fa-lg"></span>
     
    News
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jaideep777/Plant-FATE">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>TreeLife demo</h1>
                        <h4 data-toc-skip class="author">Jaideep
Joshi</h4>
            
            <h4 data-toc-skip class="date">2023-01-21</h4>
      
      
      <div class="d-none name"><code>lho_demo.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jaideep777.github.io/Plant-FATE">PlantFATE</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Attaching core tidyverse packages</span> ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr    </span> 1.1.2     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr    </span> 2.1.4</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats  </span> 1.0.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr  </span> 1.5.0</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2  </span> 3.4.3     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble   </span> 3.2.1</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">lubridate</span> 1.9.2     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr    </span> 1.3.0</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr    </span> 1.0.2     </span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use the conflicted package (<span style="color: #0000BB; font-style: italic;">&lt;http://conflicted.r-lib.org/&gt;</span>) to force all conflicts to become errors</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "/home/jjoshi/codes/Plant-FATE"</span></span></code></pre>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette demonstrates the functionalities of the
<code>PlantFATE</code> package for simulating plant growth and
calculating fitness based on specified traits. We will walk through the
code, explaining each step and providing visualizations of the simulated
plant’s growth trajectory.</p>
</div>
<div class="section level2">
<h2 id="a-plotting-utility">A plotting utility<a class="anchor" aria-label="anchor" href="#a-plotting-utility"></a>
</h2>
<p>The plot_plant_trajectory function is defined to visualize various
aspects of plant growth over time. It generates multiple plots showing
different parameters such as height, diameter, biomass pools, fitness,
GPP (Gross Primary Productivity), NPP (Net Primary Productivity),
respiration, turnover, transpiration, water potential, Vcmax (maximum
carboxylation velocity), LAI (Leaf Area Index), mortality rates,
sapwood/heartwood fractions, leaf/fine root lifespans, etc.</p>
</div>
<div class="section level2">
<h2 id="simulate-a-plant-and-plot-its-growth-trajectory">Simulate a plant and plot its growth trajectory<a class="anchor" aria-label="anchor" href="#simulate-a-plant-and-plot-its-growth-trajectory"></a>
</h2>
<p>The code first initializes parameters and environmental conditions
for simulating plant growth using the LifeHistoryOptimizer class from
the PlantFATE package.</p>
<ul>
<li>It reads in environmental data and initializes CO2 levels.</li>
<li>Then, it iterates over time steps, simulating plant growth and
storing the state of the plant at each time step.</li>
<li>Finally, it plots the trajectory of the simulated plant’s growth
using the previously defined plot_plant_trajectory function.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params_file</span> <span class="op">=</span> <span class="st">"tests/params/p_test_v2.ini"</span></span>
<span></span>
<span><span class="va">lho</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/methods/new.html" class="external-link">new</a></span><span class="op">(</span><span class="va">LifeHistoryOptimizer</span>, <span class="va">params_file</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">set_i_metFile</span><span class="op">(</span><span class="st">"tests/data/MetData_AmzFACE_Monthly_2000_2015_PlantFATE_new.csv"</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">set_a_metFile</span><span class="op">(</span><span class="st">"tests/data/MetData_AmzFACE_Monthly_2000_2015_PlantFATE_new.csv"</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">set_co2File</span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">init_co2</span><span class="op">(</span><span class="fl">414</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">lho</span><span class="op">$</span><span class="va">env</span><span class="op">$</span><span class="va">clim_inst</span><span class="op">$</span><span class="va">co2</span>,</span>
<span>        <span class="va">lho</span><span class="op">$</span><span class="va">env</span><span class="op">$</span><span class="va">clim_acclim</span><span class="op">$</span><span class="va">co2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 414 414</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lho</span><span class="op">$</span><span class="fu">init</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">printMeta</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dt</span> <span class="op">=</span> <span class="fl">0.1</span></span>
<span><span class="va">df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span>text<span class="op">=</span><span class="st">""</span>, col.names <span class="op">=</span> <span class="va">lho</span><span class="op">$</span><span class="fu">get_header</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">t</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">2000</span>,<span class="fl">2500</span>,<span class="va">dt</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">lho</span><span class="op">$</span><span class="fu">grow_for_dt</span><span class="op">(</span><span class="va">t</span>,<span class="fl">0.1</span><span class="op">)</span></span>
<span>  <span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>,<span class="op">]</span> <span class="op">=</span> <span class="va">lho</span><span class="op">$</span><span class="fu">get_state</span><span class="op">(</span><span class="va">t</span><span class="op">+</span><span class="va">dt</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">plot_plant_trajectory</span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<p><img src="lho_demo_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="calculate-fitness-of-specified-traits">Calculate fitness of specified traits<a class="anchor" aria-label="anchor" href="#calculate-fitness-of-specified-traits"></a>
</h2>
<p>Two sections are dedicated to calculating the fitness of a tree with
specified traits. The first section calculates fitness without modifying
any traits, while the second section overrides the wood density trait to
a specified value and recalculates fitness. The process involves
initializing the optimizer, setting traits, and then calculating fitness
based on those traits.</p>
<p>To calculate the fitness of a tree with given traits, follow these
steps:</p>
<ol style="list-style-type: decimal">
<li>Create an optimizer</li>
<li>set the parameters file</li>
<li>Initialize the optimizer - this will read the params file and
initialize everything from it</li>
<li>set traits - this will overwrite the specified traits and redo any
trait-coordination calculations</li>
<li>Calculate fitness</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lho</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/methods/new.html" class="external-link">new</a></span><span class="op">(</span><span class="va">LifeHistoryOptimizer</span>, <span class="va">params_file</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">init</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">printMeta</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">calcFitness</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.01928136</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lho</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/methods/new.html" class="external-link">new</a></span><span class="op">(</span><span class="va">LifeHistoryOptimizer</span>, <span class="va">params_file</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="va">traits0</span><span class="op">$</span><span class="va">wood_density</span> <span class="op">=</span> <span class="fl">750</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">init</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">printMeta</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">lho</span><span class="op">$</span><span class="fu">calcFitness</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.01766476</span></span></code></pre>
<!-- ## Calculate fitness as a function of LMA -->
<!-- ```{r} -->
<!-- fitness_lma = function(lma){ -->
<!--   lho = new(LifeHistoryOptimizer) -->
<!--   lho$params_file = "tests/params/p.ini" -->
<!--   lho$init() -->
<!--   lho$set_traits(c(lma, 750)) -->
<!--   # lho$printPlant() -->
<!--   lho$calcFitness() -->
<!-- } -->
<!-- lma = seq(0.05, 0.3, 0.01) -->
<!-- dat = lma %>% purrr::map_dbl(fitness_lma) -->
<!-- plot(dat~lma) -->
<!-- ``` -->
</div>
<div class="section level2">
<h2 id="calculate-fitness-as-a-function-of-wood-density">Calculate fitness as a function of wood density<a class="anchor" aria-label="anchor" href="#calculate-fitness-as-a-function-of-wood-density"></a>
</h2>
<p>This section calculates fitness as a function of wood density under
different environmental conditions. - It defines a function fitness_wd
to calculate fitness based on wood density, environmental parameters,
and CO2 levels. - It iterates over a range of wood densities and
calculates fitness for each density under ambient and elevated CO2
conditions. - Finally, it plots the results, showing how fitness varies
with wood density under different environmental scenarios.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Ambient Env</span></span>
<span><span class="va">zp_amb</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">19.22669</span>, <span class="fl">15.71661</span>, <span class="fl">3.15710</span>, <span class="fl">0.00000</span><span class="op">)</span></span>
<span><span class="va">co_amb</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.0000000</span>, <span class="fl">0.4712540</span>, <span class="fl">0.2218492</span>, <span class="fl">0.0711068</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># eCO2 env</span></span>
<span><span class="va">zp_ele</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20.695389</span>, <span class="fl">18.106550</span>, <span class="fl">14.087510</span>, <span class="fl">2.206985</span>, <span class="fl">0.000000</span><span class="op">)</span></span>
<span><span class="va">co_ele</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.000000</span>, <span class="fl">4.712543e-01</span>, <span class="fl">2.220795e-01</span>, <span class="fl">1.032055e-01</span>, <span class="fl">2.763073e-02</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">fitness_wd</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">wd</span>, <span class="va">zp</span>, <span class="va">co</span>, <span class="va">co2</span>, <span class="va">pfile</span><span class="op">=</span><span class="st">"tests/params/p_test_v2.ini"</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">lho</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/methods/new.html" class="external-link">new</a></span><span class="op">(</span><span class="va">LifeHistoryOptimizer</span>, <span class="va">pfile</span><span class="op">)</span></span>
<span>  <span class="va">lho</span><span class="op">$</span><span class="fu">set_i_metFile</span><span class="op">(</span><span class="st">"tests/data/MetData_AmzFACE_Monthly_2000_2015_PlantFATE_new.csv"</span><span class="op">)</span></span>
<span>  <span class="va">lho</span><span class="op">$</span><span class="fu">set_a_metFile</span><span class="op">(</span><span class="st">"tests/data/MetData_AmzFACE_Monthly_2000_2015_PlantFATE_new.csv"</span><span class="op">)</span></span>
<span>  <span class="va">lho</span><span class="op">$</span><span class="fu">init_co2</span><span class="op">(</span><span class="va">co2</span><span class="op">)</span></span>
<span>  <span class="va">lho</span><span class="op">$</span><span class="va">env</span><span class="op">$</span><span class="va">z_star</span> <span class="op">=</span> <span class="va">zp</span></span>
<span>  <span class="va">lho</span><span class="op">$</span><span class="va">env</span><span class="op">$</span><span class="va">canopy_openness</span> <span class="op">=</span> <span class="va">co</span></span>
<span>  <span class="va">lho</span><span class="op">$</span><span class="va">traits0</span><span class="op">$</span><span class="va">wood_density</span> <span class="op">=</span> <span class="va">wd</span></span>
<span>  <span class="va">lho</span><span class="op">$</span><span class="fu">init</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="co"># lho$printPlant()</span></span>
<span>  <span class="va">lho</span><span class="op">$</span><span class="fu">calcFitness</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">wd</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">350</span>, <span class="fl">900</span>, length.out<span class="op">=</span><span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat_amb</span> <span class="op">=</span> <span class="va">wd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_dbl</a></span><span class="op">(</span>.f <span class="op">=</span> <span class="va">fitness_wd</span>, zp<span class="op">=</span><span class="va">zp_amb</span>, co<span class="op">=</span><span class="va">co_amb</span>, co2<span class="op">=</span><span class="fl">368</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat_ele_base</span> <span class="op">=</span> <span class="va">wd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_dbl</a></span><span class="op">(</span><span class="va">fitness_wd</span>, zp<span class="op">=</span><span class="va">zp_amb</span>, co<span class="op">=</span><span class="va">co_amb</span>, co2<span class="op">=</span><span class="fl">614</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat_ele</span> <span class="op">=</span> <span class="va">wd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_dbl</a></span><span class="op">(</span><span class="va">fitness_wd</span>, zp<span class="op">=</span><span class="va">zp_ele</span>, co<span class="op">=</span><span class="va">co_ele</span>, co2<span class="op">=</span><span class="fl">614</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># dat_amb_nlimit = wd %&gt;% purrr::map_dbl(fitness_wd, zp=zp_amb, co=co_amb, co2=368, pfile="tests/params/p_ele_hi.ini")</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span>y<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">dat_amb</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">dat_amb</span><span class="op">)</span>, <span class="va">dat_ele_base</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">dat_ele_base</span><span class="op">)</span>, <span class="va">dat_ele</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">dat_ele</span><span class="op">)</span><span class="op">)</span>, x <span class="op">=</span> <span class="va">wd</span>, type<span class="op">=</span><span class="st">"l"</span>, lty<span class="op">=</span><span class="fl">1</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"grey"</span>, <span class="st">"yellow3"</span>, <span class="st">"brown"</span><span class="op">)</span>, ylab<span class="op">=</span><span class="st">"Fitness"</span>, xlab<span class="op">=</span><span class="st">"Wood density"</span>, cex.lab<span class="op">=</span><span class="fl">1.3</span>, lwd<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="lho_demo_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://jaideep777.github.io" class="external-link">Jaideep Joshi</a>, <a href="AUTHORS.html">Plant-FATE Core Team</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
